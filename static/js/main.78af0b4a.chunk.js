(this["webpackJsonpcorona-app"]=this["webpackJsonpcorona-app"]||[]).push([[0],{175:function(e,t,a){e.exports=a(257)},256:function(e,t,a){},257:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),i=a.n(o),c=a(33),l=a(18),u=a(154),s=a(280),d=a(168),b=a(290),m=a(291),p=a(40),f=a(27),v=a(260),y=a(294),h=a(284),O=a(285),g=a(292),j=a(35),C=a.n(j);function w(e,t){var a=Object(n.useState)(e),r=Object(p.a)(a,2),o=r[0],i=r[1],c=Object(n.useState)(e),l=Object(p.a)(c,2),u=l[0],s=l[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){s(o)}),t);return function(){clearTimeout(e)}}),[o,t]),[u,o,i]}var E,k,x=Object(n.createContext)({tab:0,setTab:function(){return null}}),S=a(20),D=a(125),B=a.n(D),N=a(155),R=a(44),z=a(41),L=a(156),T=a.n(L),A=a(34),Y=a(81),M=a.n(Y),I=a(126),F=a(6);!function(e){e.Active="active",e.Confirmed="confirmed",e.Deaths="deaths",e.Recovered="recovered"}(E||(E={}));var V=(k={},Object(F.a)(k,E.Active,{}),Object(F.a)(k,E.Confirmed,{}),Object(F.a)(k,E.Deaths,{}),Object(F.a)(k,E.Recovered,{}),k);function P(e){var t=function(e){return e.reduce((function(e,t){var a,n,r=C.a.utc(t.updated).format("M/D/YY"),o={country:t.country,province:null,coordinates:{latitude:t.countryInfo.lat,longitude:t.countryInfo.long},timeline:(a={},Object(F.a)(a,E.Active,Object(F.a)({},r,t.cases-t.deaths-t.recovered)),Object(F.a)(a,E.Confirmed,Object(F.a)({},r,t.cases)),Object(F.a)(a,E.Deaths,Object(F.a)({},r,t.deaths)),Object(F.a)(a,E.Recovered,Object(F.a)({},r,t.recovered)),a),updated:t.updated};return Object(S.a)({},e,Object(F.a)({},(G[n=o.country]||n).toLowerCase(),o))}),{})}(e[0]),a=function(e,t){return e.reduce((function(e,a){var n,r,o,i,c,l={country:(null===(n=t[a.country])||void 0===n?void 0:n.country)||H(a.country),province:(null===(r=t[a.province])||void 0===r?void 0:r.country)||H(a.province),coordinates:{latitude:0,longitude:0},timeline:(o={},Object(F.a)(o,E.Active,Object.keys(a.timeline.cases).reduce((function(e,t){var n=a.timeline.cases[t]-a.timeline.deaths[t]-a.timeline.recovered[t];return e[t]=n,e}),{})),Object(F.a)(o,E.Confirmed,a.timeline.cases),Object(F.a)(o,E.Deaths,a.timeline.deaths),Object(F.a)(o,E.Recovered,a.timeline.recovered),o)},u=["Australia","China","Canada"].includes(l.country);return e[l.country]||l.province&&!u||(e[l.country]=Object(S.a)({},l,{province:null,timeline:l.province?V:l.timeline})),l.province&&(e[l.province]=l),e[l.country]&&l.province&&u&&(e[l.country].timeline=(i=e[l.country].timeline,c=l.timeline,Object.keys(i).reduce((function(e,t){var a=Object.keys(i[t]),n=Object.keys(c[t]),r=a.length?a:n;return Object(S.a)({},e,Object(F.a)({},t,r.reduce((function(e,a){return Object(S.a)({},e,Object(F.a)({},a,(i[t][a]||0)+(c[t][a]||0)))}),{})))}),V))),e}),{})}(e[1],t);return Object.values(t).reduce((function(e,t){var n,r=a[t.country],o=r?r.timeline:V;return Object.keys(o[E.Confirmed]).length||console.warn("countries without timeline",t),Object(S.a)({},e,Object(F.a)({},t.country,Object(S.a)({},t,{timeline:W((n={},Object(F.a)(n,E.Active,Object(S.a)({},o[E.Active],{},t.timeline[E.Active])),Object(F.a)(n,E.Confirmed,Object(S.a)({},o[E.Confirmed],{},t.timeline[E.Confirmed])),Object(F.a)(n,E.Deaths,Object(S.a)({},o[E.Deaths],{},t.timeline[E.Deaths])),Object(F.a)(n,E.Recovered,Object(S.a)({},o[E.Recovered],{},t.timeline[E.Recovered])),n))})))}),{})}function W(e){return Object.keys(e).reduce((function(t,a){return Object(S.a)({},t,Object(F.a)({},a,Object.keys(e[a]).reduce((function(t,n){return e[a][n]&&(t[n]=e[a][n]),t}),{})))}),V)}var G={"C\xf4te d'Ivoire":"Cote d'Ivoire",Palestine:"West Bank and Gaza","Lao People's Democratic Republic":'Lao People"s Democratic Republic',Myanmar:"Burma","Holy See (Vatican City State)":"Holy See","R\xe9union":"Reunion",Macao:"macau","Saint Martin":"st martin","St. Barth":"saint barthelemy","Saint Pierre Miquelon":"saint pierre and miquelon","Cura\xe7ao":"curacao","Caribbean Netherlands":"bonaire, sint eustatius and saba"};function H(e){return Object.keys(G).reduce((function(e,t){return Object(S.a)({},e,Object(F.a)({},G[t],t))}),{})[e]||e}var K="https://corona.lmao.ninja",J="".concat(K,"/v2/countries"),q="".concat(K,"/v2/historical?lastdays=all");function U(){return _.apply(this,arguments)}function _(){return(_=Object(I.a)(M.a.mark((function e(){var t,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[J,q],e.next=3,Promise.all(t.map(function(){var e=Object(I.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return a=e.sent,e.abrupt("return",P(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X={filterBy:{status:E.Confirmed,favorite:!1},searchValue:"",sortBy:E.Confirmed,sortDirection:A.c.DESC,timelineDate:C()().format(),isTableVisibleOnMobile:!1},Q=Object(R.c)({name:"sideBar",initialState:X,reducers:{setFilterBy:function(e,t){e.filterBy=t.payload},setTimelineDate:function(e,t){e.timelineDate=t.payload},setSearchValue:function(e,t){e.searchValue=t.payload},sort:function(e,t){e.sortBy=t.payload.sortBy,e.sortDirection=t.payload.sortDirection},toggleTableVisibility:function(e){e.isTableVisibleOnMobile=!e.isTableVisibleOnMobile}}}),Z=function(e){return e.sideBar.sortBy},$=function(e){return e.sideBar.sortDirection},ee=function(e){return e.sideBar.filterBy},te=Object(z.a)([function(e){return e.sideBar.timelineDate}],(function(e){return C()(e)})),ae=Q.actions,ne=ae.setFilterBy,re=ae.setTimelineDate,oe=ae.setSearchValue,ie=ae.sort,ce=(ae.toggleTableVisibility,Q.reducer),le=Object(R.b)("countries/fetchCountries",Object(N.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),ue=Object(R.c)({name:"countries",initialState:{loading:"idle",countriesByName:{},favoriteCountries:{},error:null},reducers:{toggleFavorite:function(e,t){e.favoriteCountries[t.payload]?delete e.favoriteCountries[t.payload]:e.favoriteCountries[t.payload]=!0},updateFavoriteCountries:function(e,t){e.favoriteCountries=t.payload}},extraReducers:function(e){e.addCase(le.pending,(function(e){"idle"===e.loading&&(e.loading="pending")})).addCase(le.fulfilled,(function(e,t){"pending"===e.loading&&(e.loading="idle"),e.countriesByName=t.payload})).addCase(le.rejected,(function(e,t){e.error=t.error}))}}),se=function(e){return e.countries.countriesByName},de=function(e){return e.countries.favoriteCountries},be=Object(z.a)([se],(function(e){return Object.values(e)})),me=Object(z.a)([be,function(e){return e.sideBar.searchValue},ee,de],(function(e,t,a,n){var r=t.toLowerCase();return e.filter((function(e){return!(t&&!e.country.toLowerCase().includes(r))&&!(a.favorite&&!n[e.country])}))})),pe=Object(z.a)([me,te],(function(e,t){var a=t.format("M/D/YY");return e.filter((function(e){return e.timeline.active[a]||e.timeline.confirmed[a]||e.timeline.deaths[a]||e.timeline.recovered[a]}))})),fe=Object(z.a)([pe,te,Z,$],(function(e,t,a,n){var r=t.format("M/D/YY"),o=Object.values(E).includes(a);return T.a.orderBy(e,(function(e){return o?e.timeline[a][r]||0:e[a]}),n===A.c.ASC?"asc":"desc").map((function(e,t){return Object(S.a)({},e,{index:t+1})}))})),ve=Object(z.a)([pe,te],(function(e,t){var a=t.format("M/D/YY");return e.reduce((function(e,t){return{active:e.active+(t.timeline.active[a]||0),confirmed:e.confirmed+(t.timeline.confirmed[a]||0),deaths:e.deaths+(t.timeline.deaths[a]||0),recovered:e.recovered+(t.timeline.recovered[a]||0)}}),{active:0,confirmed:0,deaths:0,recovered:0})})),ye=Object(z.a)([pe,ee],(function(e,t){return{type:"FeatureCollection",features:e.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.coordinates.longitude,e.coordinates.latitude]},properties:Object(S.a)({country:e.country},e.timeline[t.status])}}))}})),he=Object(z.a)([me],(function(e){return e.reduce((function(e,t){var a=Object.keys(t.timeline[E.Confirmed]);if(a.length){var n=C()(a[0],"M/D/YY");if(e.isAfter(n))return n}return e}),C()().set({hours:0,minutes:0,seconds:0,milliseconds:0}))})),Oe=ue.actions,ge=Oe.toggleFavorite,je=(Oe.updateFavoriteCountries,ue.reducer),Ce=a(279),we=a(296),Ee=a(281),ke=a(297),xe=a(282),Se=a(283),De=a(278),Be=Object(De.a)((function(e){var t;return{root:(t={minHeight:80,padding:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),backgroundColor:e.palette.background.paper,borderTopWidth:1,borderTopColor:e.palette.divider,borderTopStyle:"solid",zIndex:e.zIndex.drawer},Object(F.a)(t,e.breakpoints.down("sm"),{paddingLeft:0,paddingRight:0}),Object(F.a)(t,"& .MuiSlider-root",{paddingTop:e.spacing(2),paddingBottom:e.spacing(1),marginRight:e.spacing(1)}),Object(F.a)(t,"@media (pointer: coarse)",{"& .MuiSlider-root":{paddingTop:e.spacing(2),paddingBottom:e.spacing(1),marginRight:e.spacing(1)},"& .MuiSlider-markLabel":{top:26}}),t),label:Object(F.a)({color:e.palette.text.primary,fontSize:e.typography.fontSize,userSelect:"none"},e.breakpoints.down("sm"),{padding:"0 ".concat(e.spacing(1),"px")}),arrowButton:{width:32,height:32}}}));var Ne,Re=Object(n.memo)((function(e){var t=e.date,a=void 0===t?C()():t,o=e.onChange,i=e.minDate,c=e.maxDate,l=Be(),u=Object(n.useCallback)((function(e,t){var n=a.clone().dayOfYear(t);return o(n)}),[a,o]),s=Object(n.useCallback)((function(){var e=a.clone().subtract(1,"day");if(e.isSameOrAfter(i))return o(e)}),[a,i,o]),d=Object(n.useCallback)((function(){var e=a.clone().add(1,"day");if(e.isSameOrBefore(c))return o(e)}),[a,c,o]),b=Object(n.useMemo)((function(){return function(e,t){if(!e||!t)return[];for(var a=[],n=t.dayOfYear();n>e.dayOfYear();n--){var r=C()().dayOfYear(n);1===r.date()&&a.push({value:n,label:r.format("MMM")})}return a}(i,c)}),[null===i||void 0===i?void 0:i.format(),null===c||void 0===c?void 0:c.format()]);return r.a.createElement("div",{className:l.root},r.a.createElement(Ce.a,{className:l.label,"data-testid":"timeline-label"},a.format("LL")),r.a.createElement(g.a,{display:"flex",flexDirection:"row"},r.a.createElement(we.a,{mdUp:!0},r.a.createElement(Ee.a,{className:l.arrowButton,"aria-label":"button day-before",onClick:s},r.a.createElement(xe.a,null))),r.a.createElement(ke.a,{"data-testid":"timeline-slider","aria-labelledby":"discrete-slider",step:1,marks:b,min:null===i||void 0===i?void 0:i.dayOfYear(),max:null===c||void 0===c?void 0:c.dayOfYear(),value:a.dayOfYear(),valueLabelFormat:function(){return a.format("D")},valueLabelDisplay:"on",onChange:u}),r.a.createElement(we.a,{mdUp:!0},r.a.createElement(Ee.a,{className:l.arrowButton,"aria-label":"button day-after",onClick:d},r.a.createElement(Se.a,null)))))})),ze=Object(De.a)((function(e){return{root:Object(F.a)({boxShadow:"none",borderRadius:0},e.breakpoints.up("md"),{display:"none"}),tabs:{borderTopWidth:1,borderTopColor:e.palette.divider,borderTopStyle:"solid"},tab:{flex:1},tabLabel:{textTransform:"capitalize"},indicator:{top:0},panels:{height:"100%",position:"relative"},panel:{height:0}}})),Le=function(e){var t=e.tabs,a=Object(l.b)(),o=Object(f.a)(),i=ze(),u=Object(s.a)(o.breakpoints.up("md")),d=Object(l.c)(te),b=Object(l.c)(he),m=Object(n.useState)(0),j=Object(p.a)(m,2),E=j[0],k=j[1],S=w(b,500),D=Object(p.a)(S,3),B=D[0],N=(D[1],D[2]),R=Object(n.useCallback)((function(e,t){return k(t)}),[k]);return Object(n.useEffect)((function(){B&&c.a.event({action:"Filter By Date",category:"Countries",label:B.format("LL")})}),[B]),r.a.createElement(x.Provider,{value:{tab:E,setTab:k}},r.a.createElement("div",{className:i.panels},t.map((function(e,t){return r.a.createElement("div",{key:e.label,className:i.panel,hidden:!u&&E!==t},e.panel)}))),r.a.createElement(Re,{date:d,onChange:function(e){N(e),a(re(e.format()))},minDate:b,maxDate:C()().set({hours:0,minutes:0,seconds:0,milliseconds:0})}),r.a.createElement(v.a,{className:i.root},r.a.createElement(y.a,{className:i.tabs,value:E,onChange:R,centered:!0,TabIndicatorProps:{className:i.indicator}},t.map((function(e){return r.a.createElement(h.a,{key:e.label,className:i.tab,label:r.a.createElement(O.a,null,r.a.createElement(g.a,{className:i.tabLabel},e.label))})})))))},Te=a(286),Ae=a(287),Ye=a(295),Me=a(164),Ie=a.n(Me),Fe=a(26),Ve=Object(De.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},tabLabel:{textTransform:"capitalize"},toolbar:{},menuButton:{marginRight:e.spacing(2)},title:Object(F.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(F.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Fe.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Fe.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(F.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"16ch","&:focus":{width:"24ch"}})}})),Pe=function(){var e=Ve(),t=Object(l.b)(),a=w("",500),o=Object(p.a)(a,3),i=o[0],u=(o[1],o[2]);return Object(n.useEffect)((function(){i&&c.a.event({action:"Filter By Name",category:"Countries",label:i})}),[i]),r.a.createElement(Te.a,{className:e.appBar,color:"primary",position:"static"},r.a.createElement(Ae.a,{className:e.toolbar},r.a.createElement(Ce.a,{className:e.title,variant:"h6",noWrap:!0},"Corona App"),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(Ie.a,null)),r.a.createElement(Ye.a,{classes:{root:e.inputRoot,input:e.inputInput},onChange:function(e){u(e.target.value),t(oe(e.target.value))},placeholder:"Search...",inputProps:{"aria-label":"search"}}))))},We=a(102),Ge=(a(244),a(69)),He=(Ne={},Object(F.a)(Ne,E.Confirmed,"#FF5733"),Object(F.a)(Ne,E.Recovered,"#6EB277"),Object(F.a)(Ne,E.Deaths,"#BD33FF"),Object(F.a)(Ne,E.Active,"#FF8A33"),Ne);function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",t=arguments.length>1?arguments[1]:void 0;return[e,t]}var Je=Object(De.a)((function(e){return{tooltipRow:{display:"flex"},label:{flex:1,paddingTop:e.spacing(.3),whiteSpace:"nowrap","&:last-child":{paddingLeft:e.spacing(1),textAlign:"right"}},quantityChange:{paddingLeft:e.spacing(.1),verticalAlign:"top"}}})),qe=function(e){var t=e.label,a=e.value,n=e.perDay,o=e.status,i=Je();return r.a.createElement("div",{className:i.tooltipRow},r.a.createElement(Ce.a,{className:i.label,variant:"body2",component:"span","data-testid":"tooltip-label"},t,":"),r.a.createElement(Ce.a,{className:i.label,align:"right",variant:"body2",component:"span",style:{color:He[o]},"data-testid":"tooltip-value"},(null===a||void 0===a?void 0:a.toLocaleString())||0,r.a.createElement(Ce.a,{className:i.quantityChange,variant:"caption",component:"sup","data-testid":"difference"},"(".concat(n>0?"+":"").concat(!isNaN(n)&&(null===n||void 0===n?void 0:n.toLocaleString())||0,")"))))},Ue=Object(De.a)((function(e){return{tooltip:{position:"absolute",maxWidth:400,margin:e.spacing(1),padding:e.spacing(2),borderColor:e.palette.divider,pointerEvents:"none"},country:{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.fontWeightBold}}})),_e=function(e){var t=e.date,a=e.hoveredCountry,n=Ue();if(a){var o=t.format("M/D/YY"),i=t.clone().subtract(1,"day").format("M/D/YY"),c=a.country.timeline,l=[{label:"Confirmed",status:E.Confirmed},{label:"Recovered",status:E.Recovered},{label:"Deaths",status:E.Deaths},{label:"Active",status:E.Active}];return r.a.createElement(v.a,{className:n.tooltip,style:{position:"absolute",top:a.offsetY,left:a.offsetX}},r.a.createElement(Ce.a,{className:n.country,"data-testid":"tooltip-country"},a.country.country),l.map((function(e){var t=e.label,a=e.status;return r.a.createElement(qe,{key:a,label:t,value:c[a][o],perDay:c[a][o]-c[a][i],status:a})})))}return null},Xe=Object(De.a)((function(e){return{body:{display:"flex",flexDirection:"row"},drawer:Object(F.a)({width:600,flexShrink:0},e.breakpoints.down("sm"),{width:"100%"}),drawerPaper:Object(F.a)({width:600,height:"calc(100% - ".concat(80,"px) !important")},e.breakpoints.down("sm"),{width:"100%",height:"calc(100% - ".concat(129,"px) !important")})}})),Qe=Object(De.a)((function(e){return{root:Object(F.a)({height:"100%",width:"calc(100% - ".concat(600,")"),position:"absolute",left:600,right:0},e.breakpoints.down("sm"),{left:0})}})),Ze=Object(R.c)({name:"map",initialState:{viewport:{longitude:0,latitude:15,zoom:1.5}},reducers:{setViewport:function(e,t){e.viewport=t.payload}}}),$e=function(e){return e.map.viewport},et=Ze.actions.setViewport,tt=Ze.reducer,at=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e7,t=[0,1,5,10,50,100,500,1e3,2e3],a=5e3;a<=e;)t.push(a),a+=a<1e5?5e3:a<5e5?3e4:1e5;return t.reduce((function(e,t,a){return[].concat(Object(We.a)(e),[t,a+4])}),[])}();var nt=function(){var e=Qe(),t=Object(n.useRef)(null),a=Object(f.a)(),o=Object(l.c)($e),i=Object(n.useState)(o),c=Object(p.a)(i,2),u=c[0],s=c[1],d=Object(n.useState)(null),b=Object(p.a)(d,2),m=b[0],v=b[1],y=Object(l.c)(se),h=Object(l.c)(ye),O=Object(l.c)(ee),g=Object(l.c)(te),j=g.format("M/D/YY"),C=Ke("has",j),w=Ke("get",j),E=Object(n.useCallback)((function(e){var t=e.features,a=void 0===t?[]:t,n=e.srcEvent,r=n.offsetX,o=n.offsetY,i=a.find((function(e){return["label","point"].includes(e.layer.id)}));if(i&&i.properties&&i.properties.country){if((null===m||void 0===m?void 0:m.country)!==i.properties.country)return v({offsetX:r,offsetY:o,country:y[i.properties.country]})}else if(null===m||void 0===m?void 0:m.country)return v(null)}),[y,m]);return Object(n.useEffect)((function(){s(Object(S.a)({},o,{transitionInterpolator:new Ge.a({speed:1.2}),transitionDuration:"auto"}))}),[o]),r.a.createElement("div",{className:e.root},r.a.createElement(Ge.d,Object.assign({ref:t},u,{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/".concat(a.palette.type,"-v10?optimize=true"),mapboxApiAccessToken:"pk.eyJ1IjoiZGVtcGtoIiwiYSI6ImNrOGZwanFuazAxdnozbG4yNm1tOHVuYzkifQ.fRJrCsndLJ4yM-jlPaAG9Q",onViewportChange:function(e){return s(e)},onHover:E}),r.a.createElement(Ge.c,{id:"data",type:"geojson",data:h},r.a.createElement(Ge.b,{id:"point",type:"circle",filter:["all",C,[">",w,0]],paint:{"circle-radius":["interpolate",["linear"],w].concat(Object(We.a)(at)),"circle-color":He[O.status],"circle-opacity":.4,"circle-stroke-width":1,"circle-stroke-color":He[O.status]}}),r.a.createElement(Ge.b,{id:"label",type:"symbol",filter:["all",C,[">",w,0]],paint:{"text-color":"light"===a.palette.type?"#3B3B3B":"#EBEBEB"},layout:{"text-field":w,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}})),r.a.createElement(_e,{date:g,hoveredCountry:m})))},rt=a(293),ot=Object(De.a)((function(e){return{root:{boxShadow:"none"},tabs:{borderBottomWidth:1,borderBottomColor:e.palette.divider,borderBottomStyle:"solid"},tab:{flex:1,minWidth:"initial",padding:0,"&:hover":{color:e.palette.text.primary}},tabLabel:Object(F.a)({fontSize:e.typography.fontSize,textTransform:"capitalize"},e.breakpoints.down(450),{fontSize:e.typography.fontSize-2}),tabSubLabel:Object(F.a)({fontWeight:e.typography.fontWeightBold,fontSize:e.typography.body1.fontSize,lineHeight:1},e.breakpoints.down(450),{fontSize:e.typography.fontSize-2})}})),it=function(e){var t=e.onChange,a=e.tabs,n=e.tab,o=e.tabTextColor,i=e.tabIndicatorColor,c=ot();return r.a.createElement(v.a,{className:c.root},r.a.createElement(y.a,{className:c.tabs,value:a.findIndex((function(e){return e.key===n.key})),onChange:function(e,n){return t(a[n])},textColor:o,TabIndicatorProps:{style:{backgroundColor:i}},centered:!0},a.map((function(e){var t=e.key,a=e.label,n=e.value;return r.a.createElement(h.a,{className:c.tab,key:t,label:r.a.createElement(O.a,null,r.a.createElement(Ce.a,{className:c.tabLabel,component:"div","data-testid":"totals-tab-label"},a),r.a.createElement(Ce.a,{className:c.tabSubLabel,component:"div","data-testid":"totals-tab-value"},n))})}))))},ct=(a(246),a(288)),lt=a(289),ut=r.a.memo((function(e){var t=e.isFavorite,a=e.onClick;return r.a.createElement(Ee.a,{"aria-label":"button favorite",size:"small",onClick:a},t?r.a.createElement(ct.a,null):r.a.createElement(lt.a,null))})),st=a(298),dt=Object(De.a)((function(e){var t;return{tableCell:(t={height:50,width:"100%",alignItems:"center",boxSizing:"border-box",display:"flex",flex:1,padding:e.spacing(1)},Object(F.a)(t,e.breakpoints.down(550),{padding:e.spacing(1)/2}),Object(F.a)(t,e.breakpoints.down(450),{fontSize:e.typography.fontSize-2}),t)}})),bt=Object(n.memo)((function(e){var t=e.cellData,a=e.dataKey,n=dt();return r.a.createElement(st.a,{className:n.tableCell,component:"div",key:a,variant:"body"},t)})),mt=a(299),pt=a(4),ft=Object(De.a)((function(e){var t;return{tableHeaderCell:{textTransform:"capitalize",userSelect:"none"},tableCell:(t={height:50,width:"100%",alignItems:"center",boxSizing:"border-box",display:"flex",flex:1,padding:e.spacing(1)},Object(F.a)(t,e.breakpoints.down(550),{padding:e.spacing(1)/2,flexDirection:"column-reverse"}),Object(F.a)(t,e.breakpoints.down(450),{fontSize:e.typography.fontSize-2}),t),label:{fontSize:"inherit"}}})),vt=Object(n.memo)((function(e){var t=e.dataKey,a=e.label,n=e.sortBy,o=e.sortDirection,i=e.disableSort,c=ft();return r.a.createElement(st.a,{className:Object(pt.a)(c.tableCell,c.tableHeaderCell),component:"div",key:t,variant:"head"},i?a:r.a.createElement(mt.a,{active:n===t,direction:o===A.c.DESC?"desc":"asc"},r.a.createElement(Ce.a,{className:c.label},a)))})),yt=Object(De.a)((function(e){return{root:{height:"100%",boxShadow:"none",borderRadius:0},rowColumn:{cursor:"pointer",display:"flex",height:"100%","&.ReactVirtualized__Table__row:hover":{backgroundColor:e.palette.action.hover},"&:not(:last-child)":{marginRight:0}},doubleLine:{wordBreak:"break-word",whiteSpace:"normal",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"}}})),ht=function(e){return r.a.createElement(vt,e)},Ot=function(e){return r.a.createElement(bt,e)};function gt(){var e=yt(),t=Object(l.b)(),a=Object(n.useContext)(x),o=Object(l.c)(fe),i=Object(l.c)(ee),u=Object(l.c)(de),s=Object(l.c)(te).format("M/D/YY"),d=Object(l.c)(Z),b=Object(l.c)($),m=Object(n.useCallback)((function(e){e.stopPropagation(),c.a.event({action:"Filter By Favorite",category:"Countries",value:Number(!i.favorite)}),t(ne(Object(S.a)({},i,{favorite:!i.favorite})))}),[t,i]),p=Object(n.useCallback)((function(e){return ht(Object(S.a)({},e,{label:r.a.createElement(ut,{isFavorite:i.favorite,onClick:m})}))}),[i.favorite,m]),f=Object(n.useCallback)((function(e){return Ot(Object(S.a)({},e,{cellData:r.a.createElement(ut,{isFavorite:u[e.rowData.country],onClick:function(a){a.stopPropagation(),c.a.event({action:u[e.rowData.country]?"Remove Favorite":"Add Favorite",category:"Country",label:e.rowData.country}),t(ge(e.rowData.country))}})}))}),[t,u]);return r.a.createElement(v.a,{className:e.root},r.a.createElement(A.a,null,(function(n){var i=n.width,l=n.height,u=(i-88)/100,m=20*u,v=20*u;return r.a.createElement(A.d,{width:i,height:l,headerHeight:50,headerClassName:e.rowColumn,overscanRowCount:3,rowHeight:50,rowCount:o.length,rowClassName:e.rowColumn,rowGetter:function(e){var t=e.index;return o[t]},onRowClick:function(e){var n=e.rowData;a.setTab(1),c.a.event({action:"Country Click",category:"Country",label:n.country}),setTimeout((function(){t(et({longitude:n.coordinates.longitude,latitude:n.coordinates.latitude,zoom:6}))}),200)},sort:function(e){var a=e.sortBy,n=e.sortDirection;c.a.event({action:"Sort By",category:"Countries",label:a,value:Number(n===A.c.DESC)}),t(ie({sortBy:a,sortDirection:n}))},sortBy:d,sortDirection:b},r.a.createElement(A.b,{className:e.rowColumn,label:"#",dataKey:"index",disableSort:!0,width:40,cellRenderer:Ot,headerRenderer:ht}),r.a.createElement(A.b,{className:e.rowColumn,label:"Country",dataKey:"country",defaultSortDirection:"ASC",cellRenderer:function(t){return Ot(Object(S.a)({},t,{cellData:r.a.createElement("div",{className:e.doubleLine},t.cellData)}))},flexGrow:1,headerRenderer:ht,width:v}),[{label:"Confirmed",status:E.Confirmed},{label:"Recovered",status:E.Recovered},{label:"Deaths",status:E.Deaths},{label:"Active",status:E.Active}].map((function(t){return r.a.createElement(A.b,{className:e.rowColumn,cellDataGetter:function(e){var t,a=e.dataKey;return(null===(t=e.rowData.timeline[a][s])||void 0===t?void 0:t.toLocaleString())||0},cellRenderer:Ot,dataKey:t.status,defaultSortDirection:"DESC",headerRenderer:ht,key:t.status,label:t.label,width:m})})),r.a.createElement(A.b,{className:e.rowColumn,cellRenderer:f,dataKey:"favorite",disableSort:!0,headerRenderer:p,label:"",width:48}))})))}var jt=[{key:E.Confirmed,label:"Confirmed",value:null},{key:E.Recovered,label:"Recovered",value:null},{key:E.Deaths,label:"Deaths",value:null},{key:E.Active,label:"Active",value:null}],Ct=function(){var e=Xe(),t=Object(l.b)(),a=Object(l.c)(ee),n=Object(l.c)(ve);return r.a.createElement(rt.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},anchor:"left"},r.a.createElement(Ae.a,null),r.a.createElement(it,{onChange:function(e){c.a.event({action:"Filter By Status",category:"Countries",label:e.key}),t(ne({status:e.key,favorite:a.favorite}))},tabs:jt.map((function(e){return Object(S.a)({},e,{value:n[e.key].toLocaleString()})})),tab:jt.find((function(e){return e.key===a.status})),tabTextColor:"inherit",tabIndicatorColor:He[a.status]}),r.a.createElement(gt,null))},wt=Object(De.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column"}}})),Et=function(){var e=wt(),t=Object(l.b)(),a=Object(s.a)("(prefers-color-scheme: dark)"),o=r.a.useMemo((function(){return Object(d.a)({palette:{type:a?"dark":"light"},overrides:{MuiCssBaseline:{"@global":{"#root":{height:"100%",width:"100%",position:"fixed",boxSizing:"border-box"},"*:focus":{outline:"none"}}}}})}),[a]);return Object(n.useEffect)((function(){t(le())}),[t]),r.a.createElement(b.a,{theme:o},r.a.createElement(m.a,null),r.a.createElement("div",{className:e.root},r.a.createElement(Pe,null),r.a.createElement(Le,{tabs:[{label:"Table",panel:r.a.createElement(Ct,null)},{label:"Map",panel:r.a.createElement(nt,null)}]})))},kt=a(77),xt=a(166),St=a.n(xt),Dt=a(167),Bt=a.n(Dt),Nt=St()("countries",["favoriteCountries"]),Rt={key:"root",storage:Bt.a,whitelist:["countries"],transforms:[Nt]},zt=Object(kt.persistCombineReducers)(Rt,{countries:je,map:tt,sideBar:ce});a(256),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Lt=function(){var e={reducer:zt,middleware:Object(R.d)({immutableCheck:!1,serializableCheck:!1})},t=Object(R.a)(e);return{store:t,storeConfig:e,persistor:Object(kt.persistStore)(t)}}(),Tt=Lt.store,At=Lt.persistor;c.a.initialize("UA-172924850-1",{}),c.a.pageview(window.location.pathname+window.location.search),i.a.render(r.a.createElement(l.a,{store:Tt},r.a.createElement(u.a,{loading:null,persistor:At},r.a.createElement(Et,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.78af0b4a.chunk.js.map