{"version":3,"sources":["features/map/Map.module.css","features/map/tooltip/Tooltip.module.css","common/theme/ThemeContext.tsx","features/countries/countriesTypes.ts","api/corona.ts","common/constants/global.ts","features/sideBar/sideBarSlice.ts","features/countries/countriesSlice.ts","features/map/mapSlice.ts","features/map/mapUtils.ts","features/map/tooltip/Row.tsx","features/map/tooltip/Tooltip.tsx","features/map/Map.tsx","features/countriesTable/CountriesTableHeader.tsx","features/countriesTable/CountriesTable.tsx","features/sideBar/HeaderOption.tsx","features/sideBar/TimelinePanel.tsx","features/sideBar/SideBar.tsx","app/App.tsx","common/theme/themeUtils.ts","app/store.ts","serviceWorker.ts","index.tsx","features/countriesTable/CountriesTable.module.css","features/sideBar/SideBar.module.css"],"names":["module","exports","Theme","ThemeContext","React","createContext","theme","Dark","switchTheme","Status","defaultTimeline","Active","Confirmed","Deaths","Recovered","getCountries","a","urls","Promise","all","map","url","fetch","response","json","countriesByName","getCountriesByHistoricalName","historicalCountriesWithProvincesByName","getHistoricalCountriesWithProvincesByGlobalName","Object","values","reduce","countries","country","historicalCountry","timeline","keys","length","console","warn","removeEmptyDays","date","moment","utc","format","value","name","province","coordinates","latitude","countryInfo","lat","longitude","long","cases","deaths","recovered","updated","globalToHistoricalNames","toLowerCase","prev","curr","timeline1","timeline2","convertHistoricalNameToGlobal","prevDates","active","shouldSummarizeProvinces","includes","status","timelineDates1","timelineDates2","dates","statuses","Palestine","Myanmar","Réunion","Macao","Curaçao","key","initialState","filterBy","sortBy","sortDirection","SortDirection","DESC","timelineDate","isTableVisibleOnMobile","sideBarSlice","createSlice","reducers","setFilterType","state","action","payload","setTimelineDate","sort","toggleTableVisibility","selectSortBy","sideBar","selectSortDirection","selectFilterBy","selectIsTableVisibleOnMobile","selectMomentTimelineDate","createSelector","actions","fetchCountries","createAsyncThunk","CoronaAPI","countriesSlice","loading","error","extraReducers","builder","addCase","pending","fulfilled","rejected","selectCountriesByName","selectCountries","selectCountriesByTimelineDate","filter","confirmed","selectSortedCountriesByTimelineDate","isSortByStatus","_","orderBy","ASC","index","selectSumDataByTimelineDate","total","selectlCountriesByTimelineFC","type","features","geometry","properties","mapSlice","viewport","zoom","setViewport","selectViewPort","COLORS_BY_FILTER_TYPE","getInOurPais","max","steps","step","push","getTimelineExpression","operator","Row","label","perDay","style","color","toLocaleString","isNaN","Tooltip","hoveredCountry","currentDate","prevDate","clone","subtract","className","styles","tooltip","top","offsetY","left","offsetX","memo","mapRef","useRef","useContext","initialViewport","useSelector","useState","setHoveredCountry","featureCollection","currentMoment","hasCasesExpression","getCasesExpression","onHover","useCallback","srcEvent","feature","find","f","layer","id","useEffect","transitionInterpolator","FlyToInterpolator","speed","transitionDuration","mapContainer","ref","width","height","mapStyle","mapboxApiAccessToken","onViewportChange","nextViewport","data","paint","Light","layout","headerRenderer","dataKey","headerCol","CountriesTable","dispatch","useDispatch","clsx","tableContainer","hiddenForMobile","colWidth","countryWidth","headerHeight","rowHeight","rowCount","rowClassName","rowGetter","onRowClick","rowData","disableSort","defaultSortDirection","cellDataGetter","toggleTable","onClick","evenRow","oddRow","headerRow","HeaderOption","quantity","activeColor","isActive","headerStat","headerStatActive","headerStatLabel","headerStatTotalQuantity","onChange","minDate","maxDate","updateValue","e","newDate","dayOfYear","currentTarget","min","SideBar","sumData","open","header","App","defaultTheme","window","matchMedia","matches","Provider","store","configureStore","reducer","middleware","getDefaultMiddleware","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.0596e92f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapContainer\":\"Map_mapContainer__dIyOX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip\":\"Tooltip_tooltip__39nFh\"};","import React from \"react\";\n\nexport enum Theme {\n  Light = \"light\",\n  Dark = \"dark\",\n}\n\nexport interface ThemeContext {\n  theme: Theme;\n  switchTheme: (theme: Theme) => void;\n}\n\nexport const ThemeContext = React.createContext<ThemeContext>({\n  theme: Theme.Dark,\n  switchTheme: (theme: Theme) => {},\n});\n","import { HashMap, Nullable } from \"../../genericTypes\";\n\nexport enum Status {\n  Active = \"active\",\n  Confirmed = \"confirmed\",\n  Deaths = \"deaths\",\n  Recovered = \"recovered\",\n}\n\nexport interface Country {\n  country: string;\n  province: Nullable<string>;\n  coordinates: {\n    latitude: number;\n    longitude: number;\n  };\n  timeline: Timeline;\n  updated?: Date;\n}\n\nexport type CountriesByName = HashMap<Country>;\nexport type TimelineDates = HashMap<number>;\n\nexport interface Timeline {\n  [Status.Active]: TimelineDates;\n  [Status.Confirmed]: TimelineDates;\n  [Status.Deaths]: TimelineDates;\n  [Status.Recovered]: TimelineDates;\n}\n\nexport interface Timeline {\n  [Status.Active]: HashMap<number>;\n  [Status.Confirmed]: HashMap<number>;\n  [Status.Deaths]: HashMap<number>;\n  [Status.Recovered]: HashMap<number>;\n}\n\nexport interface TotalByCountry {\n  active: number;\n  confirmed: number;\n  deaths: number;\n  recovered: number;\n}\n","import moment from \"moment\";\nimport { SHORT_DATE_FORMAT } from \"../common/constants/global\";\nimport {\n  CountriesByName,\n  Country,\n  Status,\n  Timeline,\n  TimelineDates,\n} from \"../features/countries/countriesTypes\";\n\nconst defaultTimeline: Timeline = {\n  [Status.Active]: {},\n  [Status.Confirmed]: {},\n  [Status.Deaths]: {},\n  [Status.Recovered]: {},\n};\n\nexport async function getCountries(): Promise<CountriesByName> {\n  const urls: string[] = [\n    \"https://corona.lmao.ninja/v2/countries\",\n    \"https://corona.lmao.ninja/v2/historical?lastdays=all\",\n  ];\n  const response = await Promise.all(\n    urls.map(async (url: string) => {\n      const response = await fetch(url);\n      return response.json();\n    })\n  );\n\n  const countriesByName: CountriesByName = getCountriesByHistoricalName(\n    response[0]\n  );\n  const historicalCountriesWithProvincesByName: CountriesByName = getHistoricalCountriesWithProvincesByGlobalName(\n    response[1],\n    countriesByName\n  );\n  // Merge historical and current data\n  return Object.values(countriesByName).reduce(\n    (countries: CountriesByName, country: Country) => {\n      const historicalCountry =\n        historicalCountriesWithProvincesByName[country.country];\n      const timeline: Timeline = historicalCountry\n        ? historicalCountry.timeline\n        : defaultTimeline;\n\n      if (!Object.keys(timeline[Status.Confirmed]).length) {\n        console.warn(\"countries without timeline\", country);\n      }\n\n      return {\n        ...countries,\n        [country.country]: {\n          ...country,\n          timeline: removeEmptyDays({\n            [Status.Active]: {\n              ...timeline[Status.Active],\n              ...country.timeline[Status.Active],\n            },\n            [Status.Confirmed]: {\n              ...timeline[Status.Confirmed],\n              ...country.timeline[Status.Confirmed],\n            },\n            [Status.Deaths]: {\n              ...timeline[Status.Deaths],\n              ...country.timeline[Status.Deaths],\n            },\n            [Status.Recovered]: {\n              ...timeline[Status.Recovered],\n              ...country.timeline[Status.Recovered],\n            },\n          }),\n        },\n      };\n    },\n    {}\n  );\n}\n\n/**\n * Returns map of countrise by historical name\n * @param response\n */\nfunction getCountriesByHistoricalName(response: []): CountriesByName {\n  const date = moment.utc().format(SHORT_DATE_FORMAT);\n\n  return response.reduce((countriesByName: CountriesByName, value: any) => {\n    const country: Country = {\n      country: value.country,\n      province: null,\n      coordinates: {\n        latitude: value.countryInfo.lat,\n        longitude: value.countryInfo.long,\n      },\n      timeline: {\n        [Status.Active]: {\n          [date]: value.cases - value.deaths - value.recovered,\n        },\n        [Status.Confirmed]: {\n          [date]: value.cases,\n        },\n        [Status.Deaths]: {\n          [date]: value.deaths,\n        },\n        [Status.Recovered]: {\n          [date]: value.recovered,\n        },\n      },\n      updated: value.updated,\n    };\n\n    return {\n      ...countriesByName,\n      [convertGlobalNameToHistorical(country.country)]: country,\n    };\n  }, {});\n}\n\n/**\n * Returns map of historical countries and provinces by global name\n * @param response\n * @param countriesByName\n */\nfunction getHistoricalCountriesWithProvincesByGlobalName(\n  response: [],\n  countriesByName: CountriesByName\n): CountriesByName {\n  return response.reduce((prev: CountriesByName, curr: any) => {\n    const country: Country = {\n      country:\n        countriesByName[curr.country]?.country ||\n        convertHistoricalNameToGlobal(curr.country),\n      province:\n        countriesByName[curr.province]?.country ||\n        convertHistoricalNameToGlobal(curr.province),\n      coordinates: {\n        latitude: 0,\n        longitude: 0,\n      },\n      timeline: {\n        [Status.Active]: Object.keys(curr.timeline.cases).reduce(\n          (prevDates: TimelineDates, date: string) => {\n            const active: number =\n              curr.timeline.cases[date] -\n              curr.timeline.deaths[date] -\n              curr.timeline.recovered[date];\n\n            prevDates[date] = active;\n\n            return prevDates;\n          },\n          {}\n        ),\n        [Status.Confirmed]: curr.timeline.cases,\n        [Status.Deaths]: curr.timeline.deaths,\n        [Status.Recovered]: curr.timeline.recovered,\n      },\n    };\n    const shouldSummarizeProvinces: boolean = [\n      \"Australia\",\n      \"China\",\n      \"Canada\",\n    ].includes(country.country);\n\n    if (!prev[country.country]) {\n      if (!country.province || shouldSummarizeProvinces) {\n        prev[country.country] = {\n          ...country,\n          province: null,\n          timeline: country.province ? defaultTimeline : country.timeline,\n        };\n      }\n    }\n\n    if (country.province) {\n      prev[country.province] = country;\n    }\n\n    if (prev[country.country] && country.province) {\n      if (shouldSummarizeProvinces) {\n        prev[country.country].timeline = sumTimelines(\n          prev[country.country].timeline,\n          country.timeline\n        );\n      }\n    }\n\n    return prev;\n  }, {});\n}\n\n/**\n * Returns Timeline without empty days to optimize store size\n * @param timeline\n */\nfunction removeEmptyDays(timeline: Timeline): Timeline {\n  const statuses = Object.keys(timeline) as Status[];\n\n  return statuses.reduce((statuses: Timeline, status: Status) => {\n    return {\n      ...statuses,\n      [status]: Object.keys(timeline[status]).reduce(\n        (dates: TimelineDates, date: string) => {\n          if (timeline[status][date]) {\n            dates[date] = timeline[status][date];\n          }\n\n          return dates;\n        },\n        {}\n      ),\n    };\n  }, defaultTimeline);\n}\n\n/**\n * Returns summarized timelines\n * @param timeline1\n * @param timeline2\n */\nfunction sumTimelines(timeline1: Timeline, timeline2: Timeline) {\n  const statuses = Object.keys(timeline1) as Status[];\n\n  return statuses.reduce((timeline: Timeline, status: Status) => {\n    const timelineDates1 = Object.keys(timeline1[status]);\n    const timelineDates2 = Object.keys(timeline2[status]);\n    const dates = timelineDates1.length ? timelineDates1 : timelineDates2;\n\n    return {\n      ...timeline,\n      [status]: dates.reduce((dates, date: string) => {\n        return {\n          ...dates,\n          [date]:\n            (timeline1[status][date] || 0) + (timeline2[status][date] || 0),\n        };\n      }, {}),\n    };\n  }, defaultTimeline);\n}\n\nconst globalToHistoricalNames: { [name: string]: string } = {\n  \"Côte d'Ivoire\": \"Cote d'Ivoire\",\n  Palestine: \"West Bank and Gaza\",\n  \"Lao People's Democratic Republic\": 'Lao People\"s Democratic Republic',\n  Myanmar: \"Burma\",\n  \"Holy See (Vatican City State)\": \"Holy See\",\n  Réunion: \"Reunion\",\n  Macao: \"macau\",\n  \"Saint Martin\": \"st martin\",\n  \"St. Barth\": \"saint barthelemy\",\n  \"Saint Pierre Miquelon\": \"saint pierre and miquelon\",\n  Curaçao: \"curacao\",\n  \"Caribbean Netherlands\": \"bonaire, sint eustatius and saba\",\n};\n\nfunction convertGlobalNameToHistorical(name: string) {\n  return (globalToHistoricalNames[name] || name).toLowerCase();\n}\n\nfunction convertHistoricalNameToGlobal(name: string) {\n  const historicalToGlobalNames: {\n    [name: string]: string;\n  } = Object.keys(globalToHistoricalNames).reduce(\n    (prev, key) => ({ ...prev, [globalToHistoricalNames[key]]: key }),\n    {}\n  );\n\n  return historicalToGlobalNames[name] || name;\n}\n","export const SHORT_DATE_FORMAT = \"M/D/YY\";\n","import { createSelector, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport moment from \"moment\";\nimport { SortDirection, SortDirectionType } from \"react-virtualized\";\nimport { RootState } from \"../../app/store\";\nimport { Status } from \"../countries/countriesTypes\";\n\ninterface SideBarState {\n  filterBy: Status;\n  sortBy: string;\n  sortDirection: SortDirectionType;\n  timelineDate: string; // ISO format\n  isTableVisibleOnMobile: boolean;\n}\n\nconst initialState: SideBarState = {\n  filterBy: Status.Confirmed,\n  sortBy: Status.Confirmed,\n  sortDirection: SortDirection.DESC,\n  timelineDate: moment().format(),\n  isTableVisibleOnMobile: false,\n};\n\nexport const sideBarSlice = createSlice({\n  name: \"sideBar\",\n  initialState,\n  reducers: {\n    setFilterType: (state, action: PayloadAction<Status>) => {\n      state.filterBy = action.payload;\n    },\n    setTimelineDate: (state, action: PayloadAction<string>) => {\n      state.timelineDate = action.payload;\n    },\n    sort: (\n      state,\n      action: PayloadAction<{\n        sortBy: string;\n        sortDirection: SortDirectionType;\n      }>\n    ) => {\n      state.sortBy = action.payload.sortBy;\n      state.sortDirection = action.payload.sortDirection;\n    },\n    toggleTableVisibility: (state) => {\n      state.isTableVisibleOnMobile = !state.isTableVisibleOnMobile;\n    },\n  },\n});\n\n// Selectors\n\nexport const selectSortBy = (state: RootState) => state.sideBar.sortBy;\nexport const selectSortDirection = (state: RootState) =>\n  state.sideBar.sortDirection;\nexport const selectTimelineDate = (state: RootState) =>\n  state.sideBar.timelineDate;\nexport const selectFilterBy = (state: RootState) => state.sideBar.filterBy;\nexport const selectIsTableVisibleOnMobile = (state: RootState) =>\n  state.sideBar.isTableVisibleOnMobile;\n\nexport const selectMomentTimelineDate = createSelector(\n  [selectTimelineDate],\n  (timelineDate: string) => moment(timelineDate)\n);\n\nexport const {\n  setFilterType,\n  setTimelineDate,\n  sort,\n  toggleTableVisibility,\n} = sideBarSlice.actions;\nexport default sideBarSlice.reducer;\n","import {\n  createAsyncThunk,\n  createSelector,\n  createSlice,\n  PayloadAction,\n  SerializedError,\n} from \"@reduxjs/toolkit\";\nimport _ from \"lodash\";\nimport { Moment } from \"moment\";\nimport { SortDirection, SortDirectionType } from \"react-virtualized\";\nimport * as CoronaAPI from \"../../api/corona\";\nimport { RootState } from \"../../app/store\";\nimport { SHORT_DATE_FORMAT } from \"../../common/constants/global\";\nimport { Nullable } from \"../../genericTypes\";\nimport {\n  selectMomentTimelineDate,\n  selectSortBy,\n  selectSortDirection,\n} from \"../sideBar/sideBarSlice\";\nimport {\n  CountriesByName,\n  Country,\n  Status,\n  TotalByCountry,\n} from \"./countriesTypes\";\n\n// Async actions\n\nexport const fetchCountries = createAsyncThunk(\n  \"countries/fetchCountries\",\n  async () => await CoronaAPI.getCountries()\n);\n\n// Slice\n\ninterface CountriesState {\n  loading: \"idle\" | \"pending\" | \"succeeded\" | \"failed\";\n  countriesByName: CountriesByName;\n  error: Nullable<SerializedError>;\n}\n\nconst initialState: CountriesState = {\n  loading: \"idle\",\n  countriesByName: {},\n  error: null,\n};\n\nexport const countriesSlice = createSlice({\n  name: \"countries\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchCountries.pending, (state) => {\n        if (state.loading === \"idle\") {\n          state.loading = \"pending\";\n        }\n      })\n      .addCase(\n        fetchCountries.fulfilled,\n        (state, action: PayloadAction<CountriesByName>) => {\n          if (state.loading === \"pending\") {\n            state.loading = \"idle\";\n          }\n\n          state.countriesByName = action.payload;\n        }\n      )\n      .addCase(fetchCountries.rejected, (state, action) => {\n        state.error = action.error;\n      });\n  },\n});\n\n// Selectors\n\nexport const selectCountriesByName = (state: RootState) =>\n  state.countries.countriesByName;\n\nexport const selectCountries = createSelector(\n  [selectCountriesByName],\n  (countriesByName: CountriesByName) => Object.values(countriesByName)\n);\n\nexport const selectCountriesByTimelineDate = createSelector(\n  [selectCountries, selectMomentTimelineDate],\n  (countries: Country[], timelineDate: Moment) => {\n    const date: string = timelineDate.format(SHORT_DATE_FORMAT);\n\n    return countries.filter((country: Country) => {\n      return (\n        country.timeline.active[date] ||\n        country.timeline.confirmed[date] ||\n        country.timeline.deaths[date] ||\n        country.timeline.recovered[date]\n      );\n    });\n  }\n);\n\nexport const selectSortedCountriesByTimelineDate = createSelector(\n  [\n    selectCountriesByTimelineDate,\n    selectMomentTimelineDate,\n    selectSortBy,\n    selectSortDirection,\n  ],\n  (\n    countries: Country[],\n    timelineDate: Moment,\n    sortBy: string,\n    sortDirection: SortDirectionType\n  ) => {\n    const date: string = timelineDate.format(SHORT_DATE_FORMAT);\n    const isSortByStatus = Object.values(Status as any).includes(sortBy);\n\n    return _.orderBy(\n      countries,\n      (country: Country) => {\n        if (isSortByStatus) {\n          return country.timeline[sortBy as Status][date] || 0;\n        }\n\n        return country[sortBy as keyof Country];\n      },\n      sortDirection === SortDirection.ASC ? \"asc\" : \"desc\"\n    ).map((country, index) => ({ ...country, index: index + 1 }));\n  }\n);\n\nexport const selectSumDataByTimelineDate = createSelector(\n  [selectCountriesByTimelineDate, selectMomentTimelineDate],\n  (countries: Country[], timelineDate: Moment) => {\n    const defaultValues: TotalByCountry = {\n      active: 0,\n      confirmed: 0,\n      deaths: 0,\n      recovered: 0,\n    };\n    const date: string = timelineDate.format(SHORT_DATE_FORMAT);\n\n    return countries.reduce((total: TotalByCountry, country: Country) => {\n      return {\n        active: total.active + (country.timeline.active[date] || 0),\n        confirmed: total.confirmed + (country.timeline.confirmed[date] || 0),\n        deaths: total.deaths + (country.timeline.deaths[date] || 0),\n        recovered: total.recovered + (country.timeline.recovered[date] || 0),\n      };\n    }, defaultValues);\n  }\n);\n\nexport const selectlCountriesByTimelineFC = createSelector(\n  [selectCountriesByTimelineDate],\n  (countries: Country[]) => {\n    const featuerCollection: GeoJSON.FeatureCollection<\n      GeoJSON.Point,\n      Country\n    > = {\n      type: \"FeatureCollection\",\n      features: countries.map((country) => {\n        const feature: GeoJSON.Feature<GeoJSON.Point, Country> = {\n          type: \"Feature\",\n          geometry: {\n            type: \"Point\",\n            coordinates: [\n              country.coordinates.longitude,\n              country.coordinates.latitude,\n            ],\n          },\n          properties: country,\n        };\n\n        return feature;\n      }),\n    };\n\n    return featuerCollection;\n  }\n);\n\nexport default countriesSlice.reducer;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState } from \"../../app/store\";\nimport { Viewport } from \"./mapTypes\";\n\nexport interface MapState {\n  viewport: Viewport;\n}\n\nconst initialState: MapState = {\n  viewport: {\n    longitude: 0,\n    latitude: 15,\n    zoom: 1.5,\n  },\n};\n\n// Slice\n\nexport const mapSlice = createSlice({\n  name: \"map\",\n  initialState,\n  reducers: {\n    setViewport: (state, action: PayloadAction<Viewport>) => {\n      state.viewport = action.payload;\n    },\n  },\n});\n\n// Selectors\n\nexport const selectViewPort = (state: RootState) => state.map.viewport;\n\nexport const { setViewport } = mapSlice.actions;\nexport default mapSlice.reducer;\n","import { Status } from \"../countries/countriesTypes\";\n\nexport const COLORS_BY_FILTER_TYPE = {\n  [Status.Confirmed]: \"#FF5733\",\n  [Status.Recovered]: \"#7ECB88\",\n  [Status.Deaths]: \"#BD33FF\",\n  [Status.Active]: \"#FFBD33\",\n};\n\n/**\n * Creates an array with input/output paris for interpolate expression\n * @param max\n */\nexport function getInOurPais(max: number = 1000000) {\n  const steps = [0, 1, 5, 10, 50, 100, 500, 1000, 2000];\n  let step = 5000;\n\n  while (step <= max) {\n    steps.push(step);\n\n    if (step < 100000) {\n      step += 5000;\n    } else if (step < 200000) {\n      step += 10000;\n    } else {\n      step += 20000;\n    }\n  }\n\n  return steps.reduce((steps: number[], step: number, index) => {\n    return [...steps, step, index + 2 * 2];\n  }, []);\n}\n\n/**\n * Creates specific expression for getting timeline information from feature property\n * @param operator\n * @param date\n * @param status\n */\nexport function getTimelineExpression(\n  operator: mapboxgl.ExpressionName = \"get\",\n  date: string,\n  status: Status\n): mapboxgl.Expression {\n  return [operator, date, [\"get\", status, [\"get\", \"timeline\"]]];\n}\n","import React from \"react\";\nimport { Status } from \"../../countries/countriesTypes\";\nimport { COLORS_BY_FILTER_TYPE } from \"../mapUtils\";\n\ninterface RowProps {\n  label: string;\n  value: number;\n  perDay: number;\n  status: Status;\n}\n\nfunction Row({ label, value, perDay, status }: RowProps) {\n  return (\n    <div>\n      <span>{label}:</span>\n      <span style={{ color: COLORS_BY_FILTER_TYPE[status] }}>\n        <span>{value?.toLocaleString() || 0}</span>\n        <sup>\n          (\n          {`${perDay > 0 ? \"+\" : \"\"}${\n            (!isNaN(perDay) && perDay?.toLocaleString()) || 0\n          }`}\n          )\n        </sup>\n      </span>\n    </div>\n  );\n}\n\nexport { Row };\n","import { Moment } from \"moment\";\nimport React from \"react\";\nimport { SHORT_DATE_FORMAT } from \"../../../common/constants/global\";\nimport { Status } from \"../../countries/countriesTypes\";\nimport { HoveredCountry } from \"../mapTypes\";\nimport { Row } from \"./Row\";\nimport styles from \"./Tooltip.module.css\";\n\ninterface TooltipProps {\n  date: Moment;\n  hoveredCountry: HoveredCountry;\n}\n\nfunction Tooltip({ date, hoveredCountry }: TooltipProps) {\n  if (hoveredCountry.country) {\n    const currentDate: string = date.format(SHORT_DATE_FORMAT);\n    const prevDate: string = date\n      .clone()\n      .subtract(1, \"day\")\n      .format(SHORT_DATE_FORMAT);\n    const timeline = hoveredCountry.country.timeline;\n\n    return (\n      <div\n        className={styles.tooltip}\n        style={{\n          top: hoveredCountry.offsetY,\n          left: hoveredCountry.offsetX,\n        }}\n      >\n        <b>{hoveredCountry.country.country}</b>\n        <Row\n          label=\"Confirmed\"\n          value={timeline[Status.Confirmed][currentDate]}\n          perDay={\n            timeline[Status.Confirmed][currentDate] -\n            timeline[Status.Confirmed][prevDate]\n          }\n          status={Status.Confirmed}\n        />\n        <Row\n          label=\"Death\"\n          value={timeline[Status.Deaths][currentDate]}\n          perDay={\n            timeline[Status.Deaths][currentDate] -\n            timeline[Status.Deaths][prevDate]\n          }\n          status={Status.Deaths}\n        />\n        <Row\n          label=\"Recovered\"\n          value={timeline[Status.Recovered][currentDate]}\n          perDay={\n            timeline[Status.Recovered][currentDate] -\n            timeline[Status.Recovered][prevDate]\n          }\n          status={Status.Recovered}\n        />\n        <Row\n          label=\"Active\"\n          value={timeline[Status.Active][currentDate]}\n          perDay={\n            timeline[Status.Active][currentDate] -\n            timeline[Status.Active][prevDate]\n          }\n          status={Status.Active}\n        />\n      </div>\n    );\n  }\n\n  return null;\n}\n\nexport { Tooltip };\n","import { Feature } from \"geojson\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { Moment } from \"moment\";\nimport React, {\n  memo,\n  useCallback,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport MapGL, {\n  FlyToInterpolator,\n  InteractiveMap,\n  InteractiveMapProps,\n  Layer,\n  Source,\n} from \"react-map-gl\";\nimport { useSelector } from \"react-redux\";\nimport { SHORT_DATE_FORMAT } from \"../../common/constants/global\";\nimport { Theme, ThemeContext } from \"../../common/theme/ThemeContext\";\nimport { Nullable } from \"../../genericTypes\";\nimport {\n  selectCountriesByName,\n  selectlCountriesByTimelineFC,\n} from \"../countries/countriesSlice\";\nimport { CountriesByName, Country, Status } from \"../countries/countriesTypes\";\nimport {\n  selectFilterBy,\n  selectMomentTimelineDate,\n} from \"../sideBar/sideBarSlice\";\nimport styles from \"./Map.module.css\";\nimport { selectViewPort } from \"./mapSlice\";\nimport {\n  COLORS_BY_FILTER_TYPE,\n  getInOurPais,\n  getTimelineExpression,\n} from \"./mapUtils\";\nimport { Tooltip } from \"./tooltip/Tooltip\";\n\nfunction Map() {\n  const mapRef = useRef<InteractiveMap>(null);\n  const { theme } = useContext(ThemeContext);\n  const initialViewport = useSelector(selectViewPort);\n  const [viewport, setViewport] = useState<Partial<InteractiveMapProps>>(\n    initialViewport\n  );\n  const [hoveredCountry, setHoveredCountry] = useState<{\n    country: Nullable<Country>;\n    offsetX: number;\n    offsetY: number;\n  }>({\n    country: null,\n    offsetX: 0,\n    offsetY: 0,\n  });\n  const countriesByName: CountriesByName = useSelector(selectCountriesByName);\n  const featureCollection = useSelector(selectlCountriesByTimelineFC);\n  const filterBy: Status = useSelector(selectFilterBy);\n  const currentMoment: Moment = useSelector(selectMomentTimelineDate);\n  const date: string = currentMoment.format(SHORT_DATE_FORMAT);\n  const hasCasesExpression = getTimelineExpression(\"has\", date, filterBy);\n  const getCasesExpression = getTimelineExpression(\"get\", date, filterBy);\n  const onHover = useCallback(\n    ({ features = [], srcEvent: { offsetX, offsetY } }) => {\n      const feature: Feature = features.find((f: any) =>\n        [\"label\", \"point\"].includes(f.layer.id)\n      );\n\n      if (feature && feature.properties && feature.properties.country) {\n        if (hoveredCountry.country !== feature.properties.country) {\n          return setHoveredCountry({\n            offsetX,\n            offsetY,\n            country: countriesByName[feature.properties.country],\n          });\n        }\n      } else {\n        if (hoveredCountry.country) {\n          return setHoveredCountry({\n            offsetX: 0,\n            offsetY: 0,\n            country: null,\n          });\n        }\n      }\n    },\n    [countriesByName, hoveredCountry]\n  );\n\n  useEffect(() => {\n    // fly to the new position\n    setViewport({\n      ...initialViewport,\n      transitionInterpolator: new FlyToInterpolator({ speed: 1.2 }),\n      transitionDuration: \"auto\",\n    });\n  }, [initialViewport]);\n\n  return (\n    <div className={styles.mapContainer}>\n      <MapGL\n        ref={mapRef}\n        {...viewport}\n        width=\"100%\"\n        height=\"100%\"\n        mapStyle={`mapbox://styles/mapbox/${theme}-v10`}\n        mapboxApiAccessToken=\"pk.eyJ1IjoiZGVtcGtoIiwiYSI6ImNrOGZwanFuazAxdnozbG4yNm1tOHVuYzkifQ.fRJrCsndLJ4yM-jlPaAG9Q\"\n        onViewportChange={(nextViewport) => setViewport(nextViewport)}\n        onHover={onHover}\n      >\n        <Source id=\"data\" type=\"geojson\" data={featureCollection}>\n          <Layer\n            id=\"point\"\n            type=\"circle\"\n            filter={[\"all\", hasCasesExpression, [\">\", getCasesExpression, 0]]}\n            paint={{\n              \"circle-radius\": [\n                \"interpolate\",\n                [\"linear\"],\n                getCasesExpression,\n                ...getInOurPais(),\n              ],\n              \"circle-color\": COLORS_BY_FILTER_TYPE[filterBy],\n              \"circle-opacity\": 0.4,\n              \"circle-stroke-width\": 1,\n              \"circle-stroke-color\": COLORS_BY_FILTER_TYPE[filterBy],\n            }}\n          />\n          <Layer\n            id=\"label\"\n            type=\"symbol\"\n            filter={[\"all\", hasCasesExpression, [\">\", getCasesExpression, 0]]}\n            paint={{\n              \"text-color\": theme === Theme.Light ? \"#3B3B3B\" : \"#EBEBEB\",\n            }}\n            layout={{\n              \"text-field\": getCasesExpression,\n              \"text-font\": [\"DIN Offc Pro Medium\", \"Arial Unicode MS Bold\"],\n              \"text-size\": 12,\n            }}\n          />\n        </Source>\n        <Tooltip date={currentMoment} hoveredCountry={hoveredCountry} />\n      </MapGL>\n    </div>\n  );\n}\n\nexport default memo(Map);\n","import React from \"react\";\nimport { SortIndicator, TableHeaderProps } from \"react-virtualized\";\nimport styles from \"./CountriesTable.module.css\";\n\nexport function headerRenderer({\n  dataKey,\n  label,\n  sortBy,\n  sortDirection,\n}: TableHeaderProps): React.ReactNode {\n  return (\n    <div key={dataKey} className={styles.headerCol}>\n      <span>{label}</span>\n      <span>\n        {sortBy === dataKey && <SortIndicator sortDirection={sortDirection} />}\n      </span>\n    </div>\n  );\n}\n","import clsx from \"clsx\";\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AutoSizer, Column, SortDirectionType, Table } from \"react-virtualized\";\nimport { SHORT_DATE_FORMAT } from \"../../common/constants/global\";\nimport { selectSortedCountriesByTimelineDate } from \"../countries/countriesSlice\";\nimport { Country, Status } from \"../countries/countriesTypes\";\nimport { setViewport } from \"../map/mapSlice\";\nimport {\n  selectIsTableVisibleOnMobile,\n  selectMomentTimelineDate,\n  selectSortBy,\n  selectSortDirection,\n  sort,\n  toggleTableVisibility,\n} from \"../sideBar/sideBarSlice\";\nimport styles from \"./CountriesTable.module.css\";\nimport { headerRenderer } from \"./CountriesTableHeader\";\n\nexport function CountriesTable() {\n  const dispatch = useDispatch();\n  const countries: Country[] = useSelector(selectSortedCountriesByTimelineDate);\n  const date: string = useSelector(selectMomentTimelineDate).format(\n    SHORT_DATE_FORMAT\n  );\n  const sortBy: string = useSelector(selectSortBy);\n  const sortDirection: SortDirectionType = useSelector(selectSortDirection);\n  const isTableVisibleOnMobile: boolean = useSelector(\n    selectIsTableVisibleOnMobile\n  );\n\n  return (\n    <div style={{ height: \"100%\" }}>\n      <div\n        className={clsx(\n          styles.tableContainer,\n          !isTableVisibleOnMobile && styles.hiddenForMobile\n        )}\n      >\n        <AutoSizer>\n          {({ width, height }) => {\n            const indexWidth: number = 50;\n            const colWidth = ((width - indexWidth) / 100) * 17.5;\n            const countryWidth = ((width - indexWidth) / 100) * 30;\n\n            return (\n              <Table\n                width={width}\n                height={height}\n                headerHeight={40}\n                rowHeight={50}\n                rowCount={countries.length}\n                rowClassName={rowClassName}\n                rowGetter={({ index }) => countries[index]}\n                onRowClick={({ rowData }: { rowData: Country }) => {\n                  if (isTableVisibleOnMobile) {\n                    dispatch(toggleTableVisibility());\n                  }\n\n                  dispatch(\n                    setViewport({\n                      longitude: rowData.coordinates.longitude,\n                      latitude: rowData.coordinates.latitude,\n                      zoom: 6,\n                    })\n                  );\n                }}\n                sort={({ sortBy, sortDirection }) =>\n                  dispatch(sort({ sortBy, sortDirection }))\n                }\n                sortBy={sortBy}\n                sortDirection={sortDirection}\n              >\n                <Column\n                  label=\"#\"\n                  dataKey=\"index\"\n                  disableSort\n                  width={indexWidth}\n                  headerRenderer={headerRenderer}\n                />\n                <Column\n                  width={countryWidth}\n                  label=\"Country\"\n                  dataKey=\"country\"\n                  defaultSortDirection=\"ASC\"\n                  headerRenderer={headerRenderer}\n                />\n                <Column\n                  label=\"Confirmed\"\n                  dataKey={Status.Confirmed}\n                  defaultSortDirection=\"DESC\"\n                  width={colWidth}\n                  headerRenderer={headerRenderer}\n                  cellDataGetter={({ dataKey, rowData }) =>\n                    rowData.timeline[dataKey][date]?.toLocaleString() || 0\n                  }\n                />\n                <Column\n                  label=\"Recovered\"\n                  dataKey={Status.Recovered}\n                  defaultSortDirection=\"DESC\"\n                  width={colWidth}\n                  headerRenderer={headerRenderer}\n                  cellDataGetter={({ dataKey, rowData }) =>\n                    rowData.timeline[dataKey][date]?.toLocaleString() || 0\n                  }\n                />\n                <Column\n                  label=\"Deaths\"\n                  dataKey={Status.Deaths}\n                  defaultSortDirection=\"DESC\"\n                  width={colWidth}\n                  headerRenderer={headerRenderer}\n                  cellDataGetter={({ dataKey, rowData }) =>\n                    rowData.timeline[dataKey][date]?.toLocaleString() || 0\n                  }\n                />\n                <Column\n                  label=\"Active\"\n                  dataKey={Status.Active}\n                  defaultSortDirection=\"DESC\"\n                  width={colWidth}\n                  headerRenderer={headerRenderer}\n                  cellDataGetter={({ dataKey, rowData }) =>\n                    rowData.timeline[dataKey][date]?.toLocaleString() || 0\n                  }\n                />\n              </Table>\n            );\n          }}\n        </AutoSizer>\n      </div>\n      <div\n        className={styles.toggleTable}\n        onClick={() => dispatch(toggleTableVisibility())}\n      >\n        {`${isTableVisibleOnMobile ? \"Hide\" : \"Show\"} table`}\n      </div>\n    </div>\n  );\n}\n\nfunction rowClassName({ index }: { index: number }): string {\n  if (index >= 0) {\n    return index % 2 ? styles.evenRow : styles.oddRow;\n  }\n\n  return styles.headerRow;\n}\n","import clsx from \"clsx\";\nimport React from \"react\";\nimport styles from \"./SideBar.module.css\";\n\ninterface HeaderOption {\n  label: string;\n  quantity: number;\n  activeColor: string;\n  isActive: boolean;\n  onClick: () => void;\n}\n\nexport function HeaderOption({\n  label,\n  quantity,\n  activeColor,\n  isActive,\n  onClick,\n}: HeaderOption) {\n  return (\n    <div\n      className={clsx(styles.headerStat, isActive && styles.headerStatActive)}\n      style={isActive ? { color: activeColor } : {}}\n      onClick={onClick}\n    >\n      <div className={styles.headerStatLabel}>{label}</div>\n      <div className={styles.headerStatTotalQuantity}>\n        {quantity.toLocaleString()}\n      </div>\n    </div>\n  );\n}\n","import moment, { Moment } from \"moment\";\nimport React, { memo, useCallback } from \"react\";\nimport \"./TimelinePanel.css\";\n\ninterface TimelinePanelProps {\n  date?: Moment;\n  onChange: (date: Moment) => void;\n  minDate?: Moment;\n  maxDate?: Moment;\n}\n\nfunction TimelinePanel({\n  date = moment(),\n  onChange,\n  minDate,\n  maxDate,\n}: TimelinePanelProps) {\n  const updateValue = useCallback(\n    (e) => {\n      const newDate = date.clone().dayOfYear(+e.currentTarget.value);\n      return onChange(newDate);\n    },\n    [date, onChange]\n  );\n\n  return (\n    <div className=\"timeline-panel\">\n      <label>{date.format(\"LL\")}</label>\n      <input\n        className=\"range\"\n        type=\"range\"\n        value={date.dayOfYear()}\n        step={1}\n        min={minDate?.dayOfYear()}\n        max={maxDate?.dayOfYear()}\n        onChange={updateValue}\n      />\n    </div>\n  );\n}\n\nexport default memo(TimelinePanel);\n","import clsx from \"clsx\";\nimport moment, { Moment } from \"moment\";\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectSumDataByTimelineDate } from \"../countries/countriesSlice\";\nimport { Status } from \"../countries/countriesTypes\";\nimport { CountriesTable } from \"../countriesTable/CountriesTable\";\nimport { COLORS_BY_FILTER_TYPE } from \"../map/mapUtils\";\nimport { HeaderOption } from \"./HeaderOption\";\nimport styles from \"./SideBar.module.css\";\nimport {\n  selectFilterBy,\n  selectIsTableVisibleOnMobile,\n  selectMomentTimelineDate,\n  setFilterType,\n  setTimelineDate,\n} from \"./sideBarSlice\";\nimport TimelinePanel from \"./TimelinePanel\";\n\nexport function SideBar() {\n  const dispatch = useDispatch();\n  const date: Moment = useSelector(selectMomentTimelineDate);\n  const filterBy: Status = useSelector(selectFilterBy);\n  const sumData = useSelector(selectSumDataByTimelineDate);\n  const isTableVisibleOnMobile: boolean = useSelector(\n    selectIsTableVisibleOnMobile\n  );\n\n  return (\n    <div\n      className={clsx(styles.sideBar, isTableVisibleOnMobile && styles.open)}\n    >\n      <div className={styles.header}>\n        <HeaderOption\n          label=\"Confirmed\"\n          quantity={sumData.confirmed}\n          activeColor={COLORS_BY_FILTER_TYPE[filterBy]}\n          isActive={filterBy === Status.Confirmed}\n          onClick={() => dispatch(setFilterType(Status.Confirmed))}\n        />\n        <HeaderOption\n          label=\"Recovered\"\n          quantity={sumData.recovered}\n          activeColor={COLORS_BY_FILTER_TYPE[filterBy]}\n          isActive={filterBy === Status.Recovered}\n          onClick={() => dispatch(setFilterType(Status.Recovered))}\n        />\n        <HeaderOption\n          label=\"Deaths\"\n          quantity={sumData.deaths}\n          activeColor={COLORS_BY_FILTER_TYPE[filterBy]}\n          isActive={filterBy === Status.Deaths}\n          onClick={() => dispatch(setFilterType(Status.Deaths))}\n        />\n        <HeaderOption\n          label=\"Active\"\n          quantity={sumData.active}\n          activeColor={COLORS_BY_FILTER_TYPE[filterBy]}\n          isActive={filterBy === Status.Active}\n          onClick={() => dispatch(setFilterType(Status.Active))}\n        />\n      </div>\n      <TimelinePanel\n        date={moment(date)}\n        onChange={(date) => dispatch(setTimelineDate(date.format()))}\n        minDate={moment(\"2020-01-22T00:00:00\")}\n        maxDate={moment()}\n      />\n      <CountriesTable />\n    </div>\n  );\n}\n","import clsx from \"clsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Theme, ThemeContext } from \"../common/theme/ThemeContext\";\nimport { getBrowserTheme } from \"../common/theme/themeUtils\";\nimport { fetchCountries } from \"../features/countries/countriesSlice\";\nimport Map from \"../features/map/Map\";\nimport { SideBar } from \"../features/sideBar/SideBar\";\nimport \"./App.css\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const defaultTheme: Theme = getBrowserTheme();\n  const [theme, switchTheme] = useState(defaultTheme);\n\n  useEffect(() => {\n    dispatch(fetchCountries());\n  }, [dispatch]);\n\n  return (\n    <ThemeContext.Provider value={{ theme, switchTheme }}>\n      <div className={clsx(\"App\", theme)}>\n        <SideBar />\n        <Map />\n      </div>\n    </ThemeContext.Provider>\n  );\n}\n\nexport default App;\n","import { Theme } from \"./ThemeContext\";\n\nexport function getBrowserTheme(): Theme {\n  return window.matchMedia &&\n    window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n    ? Theme.Dark\n    : Theme.Light;\n}\n","import {\n  Action,\n  configureStore,\n  getDefaultMiddleware,\n  ThunkAction,\n} from \"@reduxjs/toolkit\";\nimport countries from \"../features/countries/countriesSlice\";\nimport map from \"../features/map/mapSlice\";\nimport sideBar from \"../features/sideBar/sideBarSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    countries,\n    map,\n    sideBar,\n  },\n  middleware: getDefaultMiddleware(),\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk = ThunkAction<void, RootState, unknown, Action<string>>;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./app/App\";\nimport { store } from \"./app/store\";\nimport \"./index.css\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableContainer\":\"CountriesTable_tableContainer__HsFmS\",\"toggleTable\":\"CountriesTable_toggleTable__1hgWR\",\"hiddenForMobile\":\"CountriesTable_hiddenForMobile__3k__Z\",\"headerCol\":\"CountriesTable_headerCol__2UGwN\",\"headerRow\":\"CountriesTable_headerRow__9aWhl\",\"evenRow\":\"CountriesTable_evenRow__24xvc\",\"oddRow\":\"CountriesTable_oddRow__3SP1f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideBar\":\"SideBar_sideBar__3wXsx\",\"open\":\"SideBar_open__EKK0f\",\"header\":\"SideBar_header__1g25-\",\"headerStat\":\"SideBar_headerStat__3YXJj\",\"headerStatLabel\":\"SideBar_headerStatLabel__4KGyw\",\"headerStatTotalQuantity\":\"SideBar_headerStatTotalQuantity__hZtn3\"};"],"sourceRoot":""}