(this["webpackJsonpcorona-app"]=this["webpackJsonpcorona-app"]||[]).push([[0],{172:function(e,t,a){e.exports=a(254)},253:function(e,t,a){},254:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),i=a.n(o),c=a(19),l=a.n(c),s=a(17),u=a(152),d=a(276),b=a(166),m=a(284),p=a(285),f=a(76),v=a(40),h=a(257),y=a(288),O=a(277),j=a(278),g=a(286),C=a(32),w=a.n(C),E=Object(o.createContext)({tab:0,setTab:function(){return null}}),k=a(20),x=a(123),D=a.n(x),S=a(153),B=a(41),N=a(38),R=a(154),z=a.n(R),L=a(33),M=a(78),T=a.n(M),Y=a(124),A=a(7);!function(e){e.Active="active",e.Confirmed="confirmed",e.Deaths="deaths",e.Recovered="recovered"}(n||(n={}));var I=(r={},Object(A.a)(r,n.Active,{}),Object(A.a)(r,n.Confirmed,{}),Object(A.a)(r,n.Deaths,{}),Object(A.a)(r,n.Recovered,{}),r);function F(e){var t=function(e){return e.reduce((function(e,t){var a,r,o=w.a.utc(t.updated).format("M/D/YY"),i={country:t.country,province:null,coordinates:{latitude:t.countryInfo.lat,longitude:t.countryInfo.long},timeline:(a={},Object(A.a)(a,n.Active,Object(A.a)({},o,t.cases-t.deaths-t.recovered)),Object(A.a)(a,n.Confirmed,Object(A.a)({},o,t.cases)),Object(A.a)(a,n.Deaths,Object(A.a)({},o,t.deaths)),Object(A.a)(a,n.Recovered,Object(A.a)({},o,t.recovered)),a),updated:t.updated};return Object(k.a)({},e,Object(A.a)({},(P[r=i.country]||r).toLowerCase(),i))}),{})}(e[0]),a=function(e,t){return e.reduce((function(e,a){var r,o,i,c,l,s={country:(null===(r=t[a.country])||void 0===r?void 0:r.country)||W(a.country),province:(null===(o=t[a.province])||void 0===o?void 0:o.country)||W(a.province),coordinates:{latitude:0,longitude:0},timeline:(i={},Object(A.a)(i,n.Active,Object.keys(a.timeline.cases).reduce((function(e,t){var n=a.timeline.cases[t]-a.timeline.deaths[t]-a.timeline.recovered[t];return e[t]=n,e}),{})),Object(A.a)(i,n.Confirmed,a.timeline.cases),Object(A.a)(i,n.Deaths,a.timeline.deaths),Object(A.a)(i,n.Recovered,a.timeline.recovered),i)},u=["Australia","China","Canada"].includes(s.country);return e[s.country]||s.province&&!u||(e[s.country]=Object(k.a)({},s,{province:null,timeline:s.province?I:s.timeline})),s.province&&(e[s.province]=s),e[s.country]&&s.province&&u&&(e[s.country].timeline=(c=e[s.country].timeline,l=s.timeline,Object.keys(c).reduce((function(e,t){var a=Object.keys(c[t]),n=Object.keys(l[t]),r=a.length?a:n;return Object(k.a)({},e,Object(A.a)({},t,r.reduce((function(e,a){return Object(k.a)({},e,Object(A.a)({},a,(c[t][a]||0)+(l[t][a]||0)))}),{})))}),I))),e}),{})}(e[1],t);return Object.values(t).reduce((function(e,t){var r,o=a[t.country],i=o?o.timeline:I;return Object.keys(i[n.Confirmed]).length||console.warn("countries without timeline",t),Object(k.a)({},e,Object(A.a)({},t.country,Object(k.a)({},t,{timeline:V((r={},Object(A.a)(r,n.Active,Object(k.a)({},i[n.Active],{},t.timeline[n.Active])),Object(A.a)(r,n.Confirmed,Object(k.a)({},i[n.Confirmed],{},t.timeline[n.Confirmed])),Object(A.a)(r,n.Deaths,Object(k.a)({},i[n.Deaths],{},t.timeline[n.Deaths])),Object(A.a)(r,n.Recovered,Object(k.a)({},i[n.Recovered],{},t.timeline[n.Recovered])),r))})))}),{})}function V(e){return Object.keys(e).reduce((function(t,a){return Object(k.a)({},t,Object(A.a)({},a,Object.keys(e[a]).reduce((function(t,n){return e[a][n]&&(t[n]=e[a][n]),t}),{})))}),I)}var P={"C\xf4te d'Ivoire":"Cote d'Ivoire",Palestine:"West Bank and Gaza","Lao People's Democratic Republic":'Lao People"s Democratic Republic',Myanmar:"Burma","Holy See (Vatican City State)":"Holy See","R\xe9union":"Reunion",Macao:"macau","Saint Martin":"st martin","St. Barth":"saint barthelemy","Saint Pierre Miquelon":"saint pierre and miquelon","Cura\xe7ao":"curacao","Caribbean Netherlands":"bonaire, sint eustatius and saba"};function W(e){return Object.keys(P).reduce((function(e,t){return Object(k.a)({},e,Object(A.a)({},P[t],t))}),{})[e]||e}var G="https://corona.lmao.ninja",H="".concat(G,"/v2/countries"),K="".concat(G,"/v2/historical?lastdays=all");function J(){return q.apply(this,arguments)}function q(){return(q=Object(Y.a)(T.a.mark((function e(){var t,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[H,K],e.next=3,Promise.all(t.map(function(){var e=Object(Y.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return a=e.sent,e.abrupt("return",F(a));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _={filterBy:{status:n.Confirmed,favorite:!1},searchValue:"",sortBy:n.Confirmed,sortDirection:L.c.DESC,timelineDate:w()().format(),isTableVisibleOnMobile:!1},X=Object(B.c)({name:"sideBar",initialState:_,reducers:{setFilterBy:function(e,t){e.filterBy=t.payload},setTimelineDate:function(e,t){e.timelineDate=t.payload},setSearchValue:function(e,t){e.searchValue=t.payload},sort:function(e,t){e.sortBy=t.payload.sortBy,e.sortDirection=t.payload.sortDirection},toggleTableVisibility:function(e){e.isTableVisibleOnMobile=!e.isTableVisibleOnMobile}}}),Q=function(e){return e.sideBar.sortBy},Z=function(e){return e.sideBar.sortDirection},U=function(e){return e.sideBar.filterBy},$=Object(N.a)([function(e){return e.sideBar.timelineDate}],(function(e){return w()(e)})),ee=X.actions,te=ee.setFilterBy,ae=ee.setTimelineDate,ne=ee.setSearchValue,re=ee.sort,oe=(ee.toggleTableVisibility,X.reducer),ie=Object(B.b)("countries/fetchCountries",Object(S.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),ce=Object(B.c)({name:"countries",initialState:{loading:"idle",countriesByName:{},favoriteCountries:{},error:null},reducers:{toggleFavorite:function(e,t){e.favoriteCountries[t.payload]?delete e.favoriteCountries[t.payload]:e.favoriteCountries[t.payload]=!0},updateFavoriteCountries:function(e,t){e.favoriteCountries=t.payload}},extraReducers:function(e){e.addCase(ie.pending,(function(e){"idle"===e.loading&&(e.loading="pending")})).addCase(ie.fulfilled,(function(e,t){"pending"===e.loading&&(e.loading="idle"),e.countriesByName=t.payload})).addCase(ie.rejected,(function(e,t){e.error=t.error}))}}),le=function(e){return e.countries.countriesByName},se=function(e){return e.countries.favoriteCountries},ue=Object(N.a)([le],(function(e){return Object.values(e)})),de=Object(N.a)([ue,function(e){return e.sideBar.searchValue},U,se],(function(e,t,a,n){var r=t.toLowerCase();return e.filter((function(e){return!(t&&!e.country.toLowerCase().includes(r))&&!(a.favorite&&!n[e.country])}))})),be=Object(N.a)([de,$],(function(e,t){var a=t.format("M/D/YY");return e.filter((function(e){return e.timeline.active[a]||e.timeline.confirmed[a]||e.timeline.deaths[a]||e.timeline.recovered[a]}))})),me=Object(N.a)([be,$,Q,Z],(function(e,t,a,r){var o=t.format("M/D/YY"),i=Object.values(n).includes(a);return z.a.orderBy(e,(function(e){return i?e.timeline[a][o]||0:e[a]}),r===L.c.ASC?"asc":"desc").map((function(e,t){return Object(k.a)({},e,{index:t+1})}))})),pe=Object(N.a)([be,$],(function(e,t){var a=t.format("M/D/YY");return e.reduce((function(e,t){return{active:e.active+(t.timeline.active[a]||0),confirmed:e.confirmed+(t.timeline.confirmed[a]||0),deaths:e.deaths+(t.timeline.deaths[a]||0),recovered:e.recovered+(t.timeline.recovered[a]||0)}}),{active:0,confirmed:0,deaths:0,recovered:0})})),fe=Object(N.a)([be,U],(function(e,t){return{type:"FeatureCollection",features:e.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.coordinates.longitude,e.coordinates.latitude]},properties:Object(k.a)({country:e.country},e.timeline[t.status])}}))}})),ve=Object(N.a)([de],(function(e){return e.reduce((function(e,t){var a=Object.keys(t.timeline[n.Confirmed]);if(a.length){var r=w()(a[0],"M/D/YY");if(e.isAfter(r))return r}return e}),w()().set({hours:0,minutes:0,seconds:0,milliseconds:0}))})),he=ce.actions,ye=he.toggleFavorite,Oe=(he.updateFavoriteCountries,ce.reducer),je=a(275),ge=a(290),Ce=a(274),we=Object(Ce.a)((function(e){return{root:{minHeight:80,padding:e.spacing(1),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),backgroundColor:e.palette.background.paper,borderTopWidth:1,borderTopColor:e.palette.divider,borderTopStyle:"solid",zIndex:e.zIndex.drawer,"& .MuiSlider-root":{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},"@media (pointer: coarse)":{"& .MuiSlider-root":{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},"& .MuiSlider-markLabel":{top:26}}},label:{color:e.palette.text.primary,fontSize:e.typography.fontSize}}}));var Ee,ke=Object(o.memo)((function(e){var t=e.date,a=void 0===t?w()():t,n=e.onChange,r=e.minDate,c=e.maxDate,l=we(),s=Object(o.useCallback)((function(e,t){var r=a.clone().dayOfYear(t);return n(r)}),[a,n]),u=Object(o.useMemo)((function(){return function(e,t){if(!e||!t)return[];for(var a=[],n=t.dayOfYear();n>e.dayOfYear();n--){var r=w()().dayOfYear(n);1===r.date()&&a.push({value:n,label:r.format("MMMM")})}return a}(r,c)}),[null===r||void 0===r?void 0:r.format(),null===c||void 0===c?void 0:c.format()]);return i.a.createElement("div",{className:l.root},i.a.createElement(je.a,{className:l.label,"data-testid":"timeline-label"},a.format("LL")),i.a.createElement(ge.a,{"data-testid":"timeline-slider","aria-labelledby":"discrete-slider",step:1,marks:u,min:null===r||void 0===r?void 0:r.dayOfYear(),max:null===c||void 0===c?void 0:c.dayOfYear(),value:a.dayOfYear(),valueLabelFormat:function(){return a.format("D")},valueLabelDisplay:"on",onChange:s}))})),xe=Object(Ce.a)((function(e){return{root:Object(A.a)({boxShadow:"none",borderRadius:0},e.breakpoints.up("md"),{display:"none"}),tabs:{borderTopWidth:1,borderTopColor:e.palette.divider,borderTopStyle:"solid"},tab:{flex:1},tabLabel:{textTransform:"capitalize"},indicator:{top:0},panels:{height:"100%",position:"relative"},panel:{height:0}}})),De=function(e){var t=e.tabs,a=Object(s.b)(),n=Object(v.a)(),r=xe(),c=Object(o.useState)(0),l=Object(f.a)(c,2),u=l[0],b=l[1],m=Object(o.useCallback)((function(e,t){return b(t)}),[]),p=Object(d.a)(n.breakpoints.up("md")),C=Object(s.c)($),k=Object(s.c)(ve);return i.a.createElement(E.Provider,{value:{tab:u,setTab:b}},i.a.createElement("div",{className:r.panels},t.map((function(e,t){return i.a.createElement("div",{key:e.label,className:r.panel,hidden:!p&&u!==t},e.panel)}))),i.a.createElement(ke,{date:C,onChange:function(e){return a(ae(e.format()))},minDate:k,maxDate:w()().set({hours:0,minutes:0,seconds:0,milliseconds:0})}),i.a.createElement(h.a,{className:r.root},i.a.createElement(y.a,{className:r.tabs,value:u,onChange:m,centered:!0,TabIndicatorProps:{className:r.indicator}},t.map((function(e){return i.a.createElement(O.a,{key:e.label,className:r.tab,label:i.a.createElement(j.a,null,i.a.createElement(g.a,{className:r.tabLabel},e.label))})})))))},Se=a(279),Be=a(280),Ne=a(289),Re=a(162),ze=a.n(Re),Le=a(25),Me=Object(Ce.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},tabLabel:{textTransform:"capitalize"},toolbar:{},menuButton:{marginRight:e.spacing(2)},title:Object(A.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(A.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Le.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Le.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(A.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"16ch","&:focus":{width:"24ch"}})}})),Te=function(){var e=Me(),t=Object(s.b)();return i.a.createElement(Se.a,{className:e.appBar,color:"primary",position:"static"},i.a.createElement(Be.a,{className:e.toolbar},i.a.createElement(je.a,{className:e.title,variant:"h6",noWrap:!0},"Corona App"),i.a.createElement("div",{className:e.search},i.a.createElement("div",{className:e.searchIcon},i.a.createElement(ze.a,null)),i.a.createElement(Ne.a,{classes:{root:e.inputRoot,input:e.inputInput},onChange:function(e){return t(ne(e.target.value))},placeholder:"Search...",inputProps:{"aria-label":"search"}}))))},Ye=a(100),Ae=(a(241),a(64)),Ie=(Ee={},Object(A.a)(Ee,n.Confirmed,"#FF5733"),Object(A.a)(Ee,n.Recovered,"#6EB277"),Object(A.a)(Ee,n.Deaths,"#BD33FF"),Object(A.a)(Ee,n.Active,"#FF8A33"),Ee);function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"get",t=arguments.length>1?arguments[1]:void 0;return[e,t]}var Ve=Object(Ce.a)((function(e){return{tooltipRow:{display:"flex"},label:{flex:1,paddingTop:e.spacing(.3),whiteSpace:"nowrap","&:last-child":{paddingLeft:e.spacing(1),textAlign:"right"}},quantityChange:{paddingLeft:e.spacing(.1),verticalAlign:"top"}}})),Pe=function(e){var t=e.label,a=e.value,n=e.perDay,r=e.status,o=Ve();return i.a.createElement("div",{className:o.tooltipRow},i.a.createElement(je.a,{className:o.label,variant:"body2",component:"span","data-testid":"tooltip-label"},t,":"),i.a.createElement(je.a,{className:o.label,align:"right",variant:"body2",component:"span",style:{color:Ie[r]},"data-testid":"tooltip-value"},(null===a||void 0===a?void 0:a.toLocaleString())||0,i.a.createElement(je.a,{className:o.quantityChange,variant:"caption",component:"sup","data-testid":"difference"},"(".concat(n>0?"+":"").concat(!isNaN(n)&&(null===n||void 0===n?void 0:n.toLocaleString())||0,")"))))},We=Object(Ce.a)((function(e){return{tooltip:{position:"absolute",maxWidth:400,margin:e.spacing(1),padding:e.spacing(2),borderColor:e.palette.divider,pointerEvents:"none"},country:{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.fontWeightMedium}}})),Ge=function(e){var t=e.date,a=e.hoveredCountry,r=We();if(a){var o=t.format("M/D/YY"),c=t.clone().subtract(1,"day").format("M/D/YY"),l=a.country.timeline,s=[{label:"Confirmed",status:n.Confirmed},{label:"Recovered",status:n.Recovered},{label:"Deaths",status:n.Deaths},{label:"Active",status:n.Active}];return i.a.createElement(h.a,{className:r.tooltip,style:{position:"absolute",top:a.offsetY,left:a.offsetX}},i.a.createElement(je.a,{className:r.country,"data-testid":"tooltip-country"},a.country.country),s.map((function(e){var t=e.label,a=e.status;return i.a.createElement(Pe,{key:a,label:t,value:l[a][o],perDay:l[a][o]-l[a][c],status:a})})))}return null},He=Object(Ce.a)((function(e){return{body:{display:"flex",flexDirection:"row"},drawer:Object(A.a)({width:600,flexShrink:0},e.breakpoints.down("sm"),{width:"100%"}),drawerPaper:Object(A.a)({width:600,height:"calc(100% - ".concat(80,"px)")},e.breakpoints.down("sm"),{width:"100%",height:"calc(100% - ".concat(129,"px)")})}})),Ke=Object(Ce.a)((function(e){return{root:Object(A.a)({height:"100%",width:"calc(100% - ".concat(600,")"),position:"absolute",left:600,right:0},e.breakpoints.down("sm"),{left:0})}})),Je=Object(B.c)({name:"map",initialState:{viewport:{longitude:0,latitude:15,zoom:1.5}},reducers:{setViewport:function(e,t){e.viewport=t.payload}}}),qe=function(e){return e.map.viewport},_e=Je.actions.setViewport,Xe=Je.reducer,Qe=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e7,t=[0,1,5,10,50,100,500,1e3,2e3],a=5e3;a<=e;)t.push(a),a+=a<1e5?5e3:a<5e5?2e4:5e4;return t.reduce((function(e,t,a){return[].concat(Object(Ye.a)(e),[t,a+4])}),[])}();var Ze=function(){var e=Ke(),t=Object(o.useRef)(null),a=Object(v.a)(),n=Object(s.c)(qe),r=Object(o.useState)(n),c=Object(f.a)(r,2),l=c[0],u=c[1],d=Object(o.useState)(null),b=Object(f.a)(d,2),m=b[0],p=b[1],h=Object(s.c)(le),y=Object(s.c)(fe),O=Object(s.c)(U),j=Object(s.c)($),g=j.format("M/D/YY"),C=Fe("has",g),w=Fe("get",g),E=Object(o.useCallback)((function(e){var t=e.features,a=void 0===t?[]:t,n=e.srcEvent,r=n.offsetX,o=n.offsetY,i=a.find((function(e){return["label","point"].includes(e.layer.id)}));if(i&&i.properties&&i.properties.country){if((null===m||void 0===m?void 0:m.country)!==i.properties.country)return p({offsetX:r,offsetY:o,country:h[i.properties.country]})}else if(null===m||void 0===m?void 0:m.country)return p(null)}),[h,m]);return Object(o.useEffect)((function(){u(Object(k.a)({},n,{transitionInterpolator:new Ae.a({speed:1.2}),transitionDuration:"auto"}))}),[n]),i.a.createElement("div",{className:e.root},i.a.createElement(Ae.d,Object.assign({ref:t},l,{width:"100%",height:"100%",mapStyle:"mapbox://styles/mapbox/".concat(a.palette.type,"-v10?optimize=true"),mapboxApiAccessToken:"pk.eyJ1IjoiZGVtcGtoIiwiYSI6ImNrOGZwanFuazAxdnozbG4yNm1tOHVuYzkifQ.fRJrCsndLJ4yM-jlPaAG9Q",onViewportChange:function(e){return u(e)},onHover:E}),i.a.createElement(Ae.c,{id:"data",type:"geojson",data:y},i.a.createElement(Ae.b,{id:"point",type:"circle",filter:["all",C,[">",w,0]],paint:{"circle-radius":["interpolate",["linear"],w].concat(Object(Ye.a)(Qe)),"circle-color":Ie[O.status],"circle-opacity":.4,"circle-stroke-width":1,"circle-stroke-color":Ie[O.status]}}),i.a.createElement(Ae.b,{id:"label",type:"symbol",filter:["all",C,[">",w,0]],paint:{"text-color":"light"===a.palette.type?"#3B3B3B":"#EBEBEB"},layout:{"text-field":w,"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}})),i.a.createElement(Ge,{date:j,hoveredCountry:m})))},Ue=a(287),$e=Object(Ce.a)((function(e){return{root:{boxShadow:"none"},tabs:{borderBottomWidth:1,borderBottomColor:e.palette.divider,borderBottomStyle:"solid"},tab:{flex:1,minWidth:"initial",padding:0,"&:hover":{color:e.palette.text.primary}},tabLabel:{fontSize:e.typography.fontSize,textTransform:"capitalize"},tabSubLabel:{fontWeight:e.typography.fontWeightBold,fontSize:e.typography.body1.fontSize,lineHeight:1}}})),et=function(e){var t=e.onChange,a=e.tabs,n=e.tab,r=e.tabTextColor,o=e.tabIndicatorColor,c=$e();return i.a.createElement(h.a,{className:c.root},i.a.createElement(y.a,{className:c.tabs,value:a.findIndex((function(e){return e.key===n.key})),onChange:function(e,n){return t(a[n])},textColor:r,TabIndicatorProps:{style:{backgroundColor:o}},centered:!0},a.map((function(e){var t=e.key,a=e.label,n=e.value;return i.a.createElement(O.a,{className:c.tab,key:t,label:i.a.createElement(j.a,null,i.a.createElement(je.a,{className:c.tabLabel,component:"div","data-testid":"totals-tab-label"},a),i.a.createElement(je.a,{className:c.tabSubLabel,component:"div","data-testid":"totals-tab-value"},n))})}))))},tt=(a(243),a(281)),at=a(282),nt=a(283),rt=i.a.memo((function(e){var t=e.isFavorite,a=e.onClick;return i.a.createElement(tt.a,{"aria-label":"button favorite",size:"small",onClick:a},t?i.a.createElement(at.a,null):i.a.createElement(nt.a,null))})),ot=a(291),it=Object(Ce.a)((function(e){var t;return{tableCell:(t={height:50,width:"100%",alignItems:"center",boxSizing:"border-box",display:"flex",flex:1,padding:e.spacing(1)},Object(A.a)(t,e.breakpoints.down(550),{padding:e.spacing(1)/2}),Object(A.a)(t,e.breakpoints.down(450),{fontSize:e.typography.fontSize-2}),t)}})),ct=Object(o.memo)((function(e){var t=e.cellData,a=e.dataKey,n=it();return i.a.createElement(ot.a,{className:n.tableCell,component:"div",key:a,variant:"body"},t)})),lt=a(292),st=a(4),ut=Object(Ce.a)((function(e){var t;return{tableHeaderCell:{textTransform:"capitalize",userSelect:"none"},tableCell:(t={height:50,width:"100%",alignItems:"center",boxSizing:"border-box",display:"flex",flex:1,padding:e.spacing(1)},Object(A.a)(t,e.breakpoints.down(550),{padding:e.spacing(1)/2,flexDirection:"column-reverse"}),Object(A.a)(t,e.breakpoints.down(450),{fontSize:e.typography.fontSize-2}),t),label:{fontSize:"inherit"}}})),dt=Object(o.memo)((function(e){var t=e.dataKey,a=e.label,n=e.sortBy,r=e.sortDirection,o=e.disableSort,c=ut();return i.a.createElement(ot.a,{className:Object(st.a)(c.tableCell,c.tableHeaderCell),component:"div",key:t,variant:"head"},o?a:i.a.createElement(lt.a,{active:n===t,direction:r===L.c.DESC?"desc":"asc"},i.a.createElement(je.a,{className:c.label},a)))})),bt=Object(Ce.a)((function(e){return{root:{height:"100%",boxShadow:"none",borderRadius:0},rowColumn:{cursor:"pointer",display:"flex",height:"100%","&.ReactVirtualized__Table__row:hover":{backgroundColor:e.palette.action.hover},"&:not(:last-child)":{marginRight:0}},doubleLine:{wordBreak:"break-all",whiteSpace:"normal",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"}}})),mt=function(e){return i.a.createElement(dt,e)},pt=function(e){return i.a.createElement(ct,e)};function ft(){var e=bt(),t=Object(s.b)(),a=Object(o.useContext)(E),r=Object(s.c)(me),c=Object(s.c)(U),l=Object(s.c)(se),u=Object(s.c)($).format("M/D/YY"),d=Object(s.c)(Q),b=Object(s.c)(Z),m=Object(o.useCallback)((function(e){e.stopPropagation(),t(te(Object(k.a)({},c,{favorite:!c.favorite})))}),[t,c]),p=Object(o.useCallback)((function(e){return mt(Object(k.a)({},e,{label:i.a.createElement(rt,{isFavorite:c.favorite,onClick:m})}))}),[c.favorite,m]),f=Object(o.useCallback)((function(e){return pt(Object(k.a)({},e,{cellData:i.a.createElement(rt,{isFavorite:l[e.rowData.country],onClick:function(a){a.stopPropagation(),t(ye(e.rowData.country))}})}))}),[t,l]);return i.a.createElement(h.a,{className:e.root},i.a.createElement(L.a,null,(function(o){var c=o.width,l=o.height,s=(c-88)/100,m=20*s,v=20*s;return i.a.createElement(L.d,{width:c,height:l,headerHeight:50,headerClassName:e.rowColumn,overscanRowCount:3,rowHeight:50,rowCount:r.length,rowClassName:e.rowColumn,rowGetter:function(e){var t=e.index;return r[t]},onRowClick:function(e){var n=e.rowData;a.setTab(1),setTimeout((function(){t(_e({longitude:n.coordinates.longitude,latitude:n.coordinates.latitude,zoom:6}))}),200)},sort:function(e){var a=e.sortBy,n=e.sortDirection;return t(re({sortBy:a,sortDirection:n}))},sortBy:d,sortDirection:b},i.a.createElement(L.b,{className:e.rowColumn,label:"#",dataKey:"index",disableSort:!0,width:40,cellRenderer:pt,headerRenderer:mt}),i.a.createElement(L.b,{className:e.rowColumn,label:"Country",dataKey:"country",defaultSortDirection:"ASC",cellRenderer:function(t){return pt(Object(k.a)({},t,{cellData:i.a.createElement("div",{className:e.doubleLine},t.cellData)}))},flexGrow:1,headerRenderer:mt,width:v}),[{label:"Confirmed",status:n.Confirmed},{label:"Recovered",status:n.Recovered},{label:"Deaths",status:n.Deaths},{label:"Active",status:n.Active}].map((function(t){return i.a.createElement(L.b,{className:e.rowColumn,cellDataGetter:function(e){var t,a=e.dataKey;return(null===(t=e.rowData.timeline[a][u])||void 0===t?void 0:t.toLocaleString())||0},cellRenderer:pt,dataKey:t.status,defaultSortDirection:"DESC",headerRenderer:mt,key:t.status,label:t.label,width:m})})),i.a.createElement(L.b,{className:e.rowColumn,cellRenderer:f,dataKey:"favorite",disableSort:!0,headerRenderer:p,label:"",width:48}))})))}var vt=[{key:n.Confirmed,label:"Confirmed",value:null},{key:n.Recovered,label:"Recovered",value:null},{key:n.Deaths,label:"Deaths",value:null},{key:n.Active,label:"Active",value:null}],ht=function(){var e=He(),t=Object(s.b)(),a=Object(s.c)(U),n=Object(s.c)(pe);return i.a.createElement(Ue.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},anchor:"left"},i.a.createElement(Be.a,null),i.a.createElement(et,{onChange:function(e){return t(te({status:e.key,favorite:a.favorite}))},tabs:vt.map((function(e){return Object(k.a)({},e,{value:n[e.key].toLocaleString()})})),tab:vt.find((function(e){return e.key===a.status})),tabTextColor:"inherit",tabIndicatorColor:Ie[a.status]}),i.a.createElement(ft,null))},yt=Object(Ce.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column"}}})),Ot=function(){var e=yt(),t=Object(s.b)(),a=Object(d.a)("(prefers-color-scheme: dark)"),n=i.a.useMemo((function(){return Object(b.a)({palette:{type:a?"dark":"light"},overrides:{MuiCssBaseline:{"@global":{"#root":{height:"100%",width:"100%",position:"fixed",boxSizing:"border-box"},"*:focus":{outline:"none"}}}}})}),[a]);return Object(o.useEffect)((function(){t(ie())}),[t]),i.a.createElement(m.a,{theme:n},i.a.createElement(p.a,null),i.a.createElement("div",{className:e.root},i.a.createElement(Te,null),i.a.createElement(De,{tabs:[{label:"Table",panel:i.a.createElement(ht,null)},{label:"Map",panel:i.a.createElement(Ze,null)}]})))},jt=a(73),gt=a(164),Ct=a.n(gt),wt=a(165),Et=a.n(wt),kt=Ct()("countries",["favoriteCountries"]),xt={key:"root",storage:Et.a,whitelist:["countries"],transforms:[kt]},Dt=Object(jt.persistCombineReducers)(xt,{countries:Oe,map:Xe,sideBar:oe});a(253),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var St=function(){var e={reducer:Dt,middleware:Object(B.d)({immutableCheck:!1,serializableCheck:!1})},t=Object(B.a)(e);return{store:t,storeConfig:e,persistor:Object(jt.persistStore)(t)}}(),Bt=St.store,Nt=St.persistor;l.a.render(i.a.createElement(s.a,{store:Bt},i.a.createElement(u.a,{loading:null,persistor:Nt},i.a.createElement(Ot,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[172,1,2]]]);
//# sourceMappingURL=main.78c547fe.chunk.js.map